diff --git a/activemq-core/src/main/java/org/apache/activemq/command/ActiveMQTextMessage.java b/activemq-core/src/main/java/org/apache/activemq/command/ActiveMQTextMessage.java
index 0ecf3d8..ca8da34 100755
--- a/activemq-core/src/main/java/org/apache/activemq/command/ActiveMQTextMessage.java
+++ b/activemq-core/src/main/java/org/apache/activemq/command/ActiveMQTextMessage.java
@@ -154 +154 @@
-        	if (text.length() > 63) {
+        	if (text != null && text.length() > 63) {
diff --git a/activemq-core/src/test/java/org/apache/activemq/command/ActiveMQTextMessageTest.java b/activemq-core/src/test/java/org/apache/activemq/command/ActiveMQTextMessageTest.java
index f2e1ae0..b1641b4 100755
--- a/activemq-core/src/test/java/org/apache/activemq/command/ActiveMQTextMessageTest.java
+++ b/activemq-core/src/test/java/org/apache/activemq/command/ActiveMQTextMessageTest.java
@@ -145,0 +146,6 @@
+    public void testNullText() throws Exception {
+    	ActiveMQTextMessage nullMessage = new ActiveMQTextMessage();
+    	setContent(nullMessage, null);
+    	assertTrue(nullMessage.toString().contains("text = null"));
+    }
+    

