diff --git a/provisioning/tools/karaf-maven-plugin/src/main/java/org/apache/karaf/tooling/features/DependencyHelper.java b/provisioning/tools/karaf-maven-plugin/src/main/java/org/apache/karaf/tooling/features/DependencyHelper.java
index e0dbb63..4a68fdb 100644
--- a/provisioning/tools/karaf-maven-plugin/src/main/java/org/apache/karaf/tooling/features/DependencyHelper.java
+++ b/provisioning/tools/karaf-maven-plugin/src/main/java/org/apache/karaf/tooling/features/DependencyHelper.java
@@ -248 +248 @@
-                if (accept.isContinue()) {
+                if (useTransitiveDependencies && accept.isContinue()) {

