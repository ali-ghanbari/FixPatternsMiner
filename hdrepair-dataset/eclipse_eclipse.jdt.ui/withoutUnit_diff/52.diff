diff --git a/org.eclipse.ltk.ui.refactoring/src/org/eclipse/ltk/internal/ui/refactoring/FileStatusContextViewer.java b/org.eclipse.ltk.ui.refactoring/src/org/eclipse/ltk/internal/ui/refactoring/FileStatusContextViewer.java
index 7e50aaf..3c55263 100644
--- a/org.eclipse.ltk.ui.refactoring/src/org/eclipse/ltk/internal/ui/refactoring/FileStatusContextViewer.java
+++ b/org.eclipse.ltk.ui.refactoring/src/org/eclipse/ltk/internal/ui/refactoring/FileStatusContextViewer.java
@@ -51 +51 @@
-		if (document.getLength() >= region.getOffset() + region.getLength())
+		if (region != null && document.getLength() >= region.getOffset() + region.getLength())

