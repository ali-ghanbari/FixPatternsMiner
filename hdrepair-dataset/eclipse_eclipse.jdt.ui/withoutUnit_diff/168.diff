diff --git a/org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/template/contentassist/PositionBasedCompletionProposal.java b/org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/template/contentassist/PositionBasedCompletionProposal.java
index a8f27be..96de6d8 100644
--- a/org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/template/contentassist/PositionBasedCompletionProposal.java
+++ b/org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/template/contentassist/PositionBasedCompletionProposal.java
@@ -159 +159 @@
-			String content= document.get(fReplacementPosition.getOffset(), fReplacementPosition.getLength());
+			String content= document.get(fReplacementPosition.getOffset(), offset - fReplacementPosition.getOffset());

