fixing a listdirectory checkup due to fast amqp message recieve

