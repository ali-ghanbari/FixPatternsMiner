diff --git a/web/src/main/webapp/resources/jsx/heatmap.js b/web/src/main/webapp/resources/jsx/heatmap.js
index 1a5dff7..0c818e5 100644
--- a/web/src/main/webapp/resources/jsx/heatmap.js
+++ b/web/src/main/webapp/resources/jsx/heatmap.js
@@ -101 +101 @@
-                            React.DOM.a( {ref:"downloadProfilesLink", title:"Top 50 genes displayed on page. Download results to see the rest.", href:downloadProfilesURL, className:"button-image", target:"_blank"}, 
+                            React.DOM.a( {id:"download-profiles-link", ref:"downloadProfilesLink", title:"Top 50 genes displayed on page. Download results to see the rest.", href:downloadProfilesURL, className:"button-image", target:"_blank"}, 
@@ -146,2 +146,2 @@
-                                        LegendRow( {displayLevels:this.props.displayLevels, lowExpressionLevel:this.props.minDownLevel, highExpressionLevel:this.props.maxDownLevel, lowValueColour:"#C0C0C0", highValueColour:"#0000FF"}),
-                                        LegendRow( {displayLevels:this.props.displayLevels, lowExpressionLevel:this.props.minUpLevel, highExpressionLevel:this.props.maxUpLevel, lowValueColour:"#FFAFAF", highValueColour:"#FF0000"})
+                                        !isNaN(this.props.minDownLevel) && !isNaN(this.props.maxDownLevel) ? LegendRow( {displayLevels:this.props.displayLevels, lowExpressionLevel:this.props.minDownLevel, highExpressionLevel:this.props.maxDownLevel, lowValueColour:"#C0C0C0", highValueColour:"#0000FF"}) : null, 
+                                        !isNaN(this.props.minUpLevel) && !isNaN(this.props.maxUpLevel) ? LegendRow( {displayLevels:this.props.displayLevels, lowExpressionLevel:this.props.minUpLevel, highExpressionLevel:this.props.maxUpLevel, lowValueColour:"#FFAFAF", highValueColour:"#FF0000"}) : null 
@@ -188 +188 @@
-                var backgroundImage = BACKGROUND_IMAGE_TEMPLATE.replace(/\${lowValueColour}/, this.props.lowValueColour).replace(/\${highValueColour}/, this.props.highValueColour);
+                var backgroundImage = BACKGROUND_IMAGE_TEMPLATE.replace(/\${lowValueColour}/g, this.props.lowValueColour).replace(/\${highValueColour}/g, this.props.highValueColour);
@@ -372 +372 @@
-                            React.DOM.a( {href:maPlotURL, ref:"maButton", className:"button-image", title:"Click to view MA plot for the contrast across all genes"}, React.DOM.img( {src:contextRoot + '/resources/images/maplot-button.png'}))
+                            React.DOM.a( {href:maPlotURL, ref:"maButton", className:"button-image ma-button", title:"Click to view MA plot for the contrast across all genes"}, React.DOM.img( {src:contextRoot + '/resources/images/maplot-button.png'}))
@@ -589 +589 @@
-                                                          : CellDifferential( {contrastName:expression.contrastName, color:expression.color, foldChange:expression.foldChange, pValue:expression.pValue, tStat:expression.tStat, displayLevels:this.props.displayLevels, svgPathId:expression.svgPathId, showGeneSetProfiles:this.props.showGeneSetProfiles, geneId:this.props.geneId, geneName:this.props.geneName}));
+                                                          : CellDifferential( {color:expression.color, foldChange:expression.foldChange, pValue:expression.pValue, tStat:expression.tStat, displayLevels:this.props.displayLevels, geneId:this.props.geneId, geneName:this.props.geneName}));
@@ -697 +697 @@
-                        React.DOM.td( {style:{"background-color": this.props.color}, onClick:this.onClick}, 
+                        React.DOM.td( {style:{"background-color": this.props.color}}, 
@@ -725 +725 @@
-                            return (mantissa !== "1" ? mantissa + " \u00D7 " : '') + "10 <span style='vertical-align: super;'>" + exponent + "</span>";
+                            return (mantissa !== "1" ? mantissa + " \u00D7 " : '') + "10<span style='vertical-align: super;'>" + exponent + "</span>";
diff --git a/web/src/main/webapp/resources/jsx/heatmap.jsx b/web/src/main/webapp/resources/jsx/heatmap.jsx
index 50d80fc..3f247b4 100644
--- a/web/src/main/webapp/resources/jsx/heatmap.jsx
+++ b/web/src/main/webapp/resources/jsx/heatmap.jsx
@@ -101 +101 @@
-                            <a ref="downloadProfilesLink" title="Top 50 genes displayed on page. Download results to see the rest." href={downloadProfilesURL} className="button-image" target="_blank">
+                            <a id="download-profiles-link" ref="downloadProfilesLink" title="Top 50 genes displayed on page. Download results to see the rest." href={downloadProfilesURL} className="button-image" target="_blank">
@@ -146,2 +146,2 @@
-                                        <LegendRow displayLevels={this.props.displayLevels} lowExpressionLevel={this.props.minDownLevel} highExpressionLevel={this.props.maxDownLevel} lowValueColour="#C0C0C0" highValueColour="#0000FF"/>
-                                        <LegendRow displayLevels={this.props.displayLevels} lowExpressionLevel={this.props.minUpLevel} highExpressionLevel={this.props.maxUpLevel} lowValueColour="#FFAFAF" highValueColour="#FF0000"/>
+                                        {!isNaN(this.props.minDownLevel) && !isNaN(this.props.maxDownLevel) ? <LegendRow displayLevels={this.props.displayLevels} lowExpressionLevel={this.props.minDownLevel} highExpressionLevel={this.props.maxDownLevel} lowValueColour="#C0C0C0" highValueColour="#0000FF"/> : null }
+                                        {!isNaN(this.props.minUpLevel) && !isNaN(this.props.maxUpLevel) ? <LegendRow displayLevels={this.props.displayLevels} lowExpressionLevel={this.props.minUpLevel} highExpressionLevel={this.props.maxUpLevel} lowValueColour="#FFAFAF" highValueColour="#FF0000"/> : null }
@@ -188 +188 @@
-                var backgroundImage = BACKGROUND_IMAGE_TEMPLATE.replace(/\${lowValueColour}/, this.props.lowValueColour).replace(/\${highValueColour}/, this.props.highValueColour);
+                var backgroundImage = BACKGROUND_IMAGE_TEMPLATE.replace(/\${lowValueColour}/g, this.props.lowValueColour).replace(/\${highValueColour}/g, this.props.highValueColour);
@@ -372 +372 @@
-                            <a href={maPlotURL} ref="maButton" className='button-image' title='Click to view MA plot for the contrast across all genes'><img src={contextRoot + '/resources/images/maplot-button.png'}/></a>
+                            <a href={maPlotURL} ref="maButton" className='button-image ma-button' title='Click to view MA plot for the contrast across all genes'><img src={contextRoot + '/resources/images/maplot-button.png'}/></a>
@@ -725 +725 @@
-                            return (mantissa !== "1" ? mantissa + " \u00D7 " : '') + "10 <span style='vertical-align: super;'>" + exponent + "</span>";
+                            return (mantissa !== "1" ? mantissa + " \u00D7 " : '') + "10<span style='vertical-align: super;'>" + exponent + "</span>";
diff --git a/web/src/test/java/uk/ac/ebi/atlas/acceptance/selenium/pages/HeatmapTablePage.java b/web/src/test/java/uk/ac/ebi/atlas/acceptance/selenium/pages/HeatmapTablePage.java
index 2045585..462c9bb 100755
--- a/web/src/test/java/uk/ac/ebi/atlas/acceptance/selenium/pages/HeatmapTablePage.java
+++ b/web/src/test/java/uk/ac/ebi/atlas/acceptance/selenium/pages/HeatmapTablePage.java
@@ -97 +97 @@
-    @FindBy(id = "diff-heatmap-legend")
+    @FindBy(css = "#heatmap-react table table")

