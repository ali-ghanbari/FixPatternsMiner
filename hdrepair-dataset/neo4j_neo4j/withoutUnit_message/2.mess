Merge pull request #4508 from burqen/2.2-ArrayQueueOutOfOrderSequence-fix

Replaced modulo calc with bitmask for efficiency
