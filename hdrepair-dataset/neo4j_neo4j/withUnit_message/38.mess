fixing compole error and the doc snippet

