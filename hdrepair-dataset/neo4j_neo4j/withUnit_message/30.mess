Merge pull request #248 from systay/having-comments

Having, comments, one bug fix and a few new functions
