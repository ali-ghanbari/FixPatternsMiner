diff --git a/src/org/exist/xquery/value/ValueSequence.java b/src/org/exist/xquery/value/ValueSequence.java
index 762091d..fdc3cb7 100644
--- a/src/org/exist/xquery/value/ValueSequence.java
+++ b/src/org/exist/xquery/value/ValueSequence.java
@@ -396 +396 @@
-			int newSize = (int)Math.round((size * 3) / (double) 2);
+			int newSize = (int)Math.round((size == 0 ? 1 : size * 3) / (double) 2);

