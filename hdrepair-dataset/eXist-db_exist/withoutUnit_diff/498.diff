diff --git a/src/org/exist/storage/lock/ReentrantReadWriteLock.java b/src/org/exist/storage/lock/ReentrantReadWriteLock.java
index d5cd46a..b46a49c 100644
--- a/src/org/exist/storage/lock/ReentrantReadWriteLock.java
+++ b/src/org/exist/storage/lock/ReentrantReadWriteLock.java
@@ -112 +112 @@
-								    	Integer top = (Integer)modeStack.peek();
+								    	Integer top = (Integer)modeStack.pop();

