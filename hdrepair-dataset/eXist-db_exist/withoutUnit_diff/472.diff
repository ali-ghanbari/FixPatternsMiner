diff --git a/src/org/exist/xquery/GeneralComparison.java b/src/org/exist/xquery/GeneralComparison.java
index 8be17bd..c0a1773 100644
--- a/src/org/exist/xquery/GeneralComparison.java
+++ b/src/org/exist/xquery/GeneralComparison.java
@@ -318 +318 @@
-        return preselectResult;
+        return preselectResult == null ? NodeSet.EMPTY_SET : preselectResult;

