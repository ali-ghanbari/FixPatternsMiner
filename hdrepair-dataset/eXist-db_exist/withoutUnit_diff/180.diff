diff --git a/src/org/exist/xquery/ExternalModuleImpl.java b/src/org/exist/xquery/ExternalModuleImpl.java
index 309564f..c122a69 100644
--- a/src/org/exist/xquery/ExternalModuleImpl.java
+++ b/src/org/exist/xquery/ExternalModuleImpl.java
@@ -220 +220 @@
-		return mSource.isValid(broker) == Source.VALID;
+		return mSource != null && mSource.isValid(broker) == Source.VALID;

