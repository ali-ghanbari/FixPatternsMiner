diff --git a/src/org/exist/xquery/functions/QNameFunctions.java b/src/org/exist/xquery/functions/QNameFunctions.java
index bb0c7a9..dcdd55b 100644
--- a/src/org/exist/xquery/functions/QNameFunctions.java
+++ b/src/org/exist/xquery/functions/QNameFunctions.java
@@ -106 +106 @@
-    			if (prefix == null)
+    			if (prefix == null || prefix.length() == 0)

