diff --git a/src/org/exist/xquery/util/DocUtils.java b/src/org/exist/xquery/util/DocUtils.java
index 5210386..3c2ad79 100644
--- a/src/org/exist/xquery/util/DocUtils.java
+++ b/src/org/exist/xquery/util/DocUtils.java
@@ -67 +67 @@
-			return (currentDocument != null);
+			return (currentDocument != null && currentDocument.effectiveBooleanValue());

