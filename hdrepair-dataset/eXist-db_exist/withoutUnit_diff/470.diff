diff --git a/src/org/exist/xquery/GeneralComparison.java b/src/org/exist/xquery/GeneralComparison.java
index a1f7fff..19f693c 100644
--- a/src/org/exist/xquery/GeneralComparison.java
+++ b/src/org/exist/xquery/GeneralComparison.java
@@ -307 +307 @@
-        return preselectResult;
+        return preselectResult == null ? NodeSet.EMPTY_SET : preselectResult;

