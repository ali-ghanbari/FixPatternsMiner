diff --git a/src/main/java/fi/csc/microarray/client/visualisation/methods/gbrowser/GenomeBrowser.java b/src/main/java/fi/csc/microarray/client/visualisation/methods/gbrowser/GenomeBrowser.java
index dd8fc3e..d422493 100644
--- a/src/main/java/fi/csc/microarray/client/visualisation/methods/gbrowser/GenomeBrowser.java
+++ b/src/main/java/fi/csc/microarray/client/visualisation/methods/gbrowser/GenomeBrowser.java
@@ -310 +310 @@
-				File file = ((LocalFileDataBeanHandler)datas.get(i).getHandler()).getFile(datas.get(i));
+				File file = Session.getSession().getDataManager().getLocalFile(datas.get(i));

