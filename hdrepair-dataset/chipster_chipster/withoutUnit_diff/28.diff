diff --git a/src/main/java/fi/csc/microarray/client/visualisation/methods/HierarchicalClustering.java b/src/main/java/fi/csc/microarray/client/visualisation/methods/HierarchicalClustering.java
index e11d7f0..70d27e9 100644
--- a/src/main/java/fi/csc/microarray/client/visualisation/methods/HierarchicalClustering.java
+++ b/src/main/java/fi/csc/microarray/client/visualisation/methods/HierarchicalClustering.java
@@ -513 +513 @@
-		return bean.isContentTypeCompatitible("application/x-treeview") && parentBean.hasTypeTag(MicroarrayModule.TypeTags.NORMALISED_EXPRESSION_VALUES);
+		return bean.isContentTypeCompatitible("application/x-treeview") && parentBean != null && parentBean.hasTypeTag(MicroarrayModule.TypeTags.NORMALISED_EXPRESSION_VALUES);

