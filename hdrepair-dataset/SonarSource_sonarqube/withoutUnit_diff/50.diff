diff --git a/sonar-server/src/main/java/org/sonar/server/rule/index/RuleIndex.java b/sonar-server/src/main/java/org/sonar/server/rule/index/RuleIndex.java
index 15f2926..e2141f7 100644
--- a/sonar-server/src/main/java/org/sonar/server/rule/index/RuleIndex.java
+++ b/sonar-server/src/main/java/org/sonar/server/rule/index/RuleIndex.java
@@ -179 +179 @@
-    if (query.getQueryText() == null || query.getQueryText().isEmpty()) {
+    if (queryText == null || queryText.isEmpty()) {

