fix ResolveVisitor to ensure origin type is resolved

