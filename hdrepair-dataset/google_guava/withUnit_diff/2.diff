diff --git a/guava-tests/test/com/google/common/math/LongMathTest.java b/guava-tests/test/com/google/common/math/LongMathTest.java
index d3ac668..4794962 100644
--- a/guava-tests/test/com/google/common/math/LongMathTest.java
+++ b/guava-tests/test/com/google/common/math/LongMathTest.java
@@ -19 +18,0 @@
-import static com.google.common.math.MathTesting.ALL_INTEGER_CANDIDATES;
@@ -477,2 +476,2 @@
-    for (long a : ALL_INTEGER_CANDIDATES) {
-      for (long b : ALL_INTEGER_CANDIDATES) {
+    for (long a : ALL_LONG_CANDIDATES) {
+      for (long b : ALL_LONG_CANDIDATES) {
@@ -493,2 +492,2 @@
-    for (long a : ALL_INTEGER_CANDIDATES) {
-      for (long b : ALL_INTEGER_CANDIDATES) {
+    for (long a : ALL_LONG_CANDIDATES) {
+      for (long b : ALL_LONG_CANDIDATES) {
@@ -509,2 +508,2 @@
-    for (long a : ALL_INTEGER_CANDIDATES) {
-      for (long b : ALL_INTEGER_CANDIDATES) {
+    for (long a : ALL_LONG_CANDIDATES) {
+      for (long b : ALL_LONG_CANDIDATES) {
@@ -525 +524 @@
-    for (long b : ALL_INTEGER_CANDIDATES) {
+    for (long b : ALL_LONG_CANDIDATES) {
diff --git a/guava/src/com/google/common/math/LongMath.java b/guava/src/com/google/common/math/LongMath.java
index 082a38b..6778c8c 100644
--- a/guava/src/com/google/common/math/LongMath.java
+++ b/guava/src/com/google/common/math/LongMath.java
@@ -597 +597 @@
-            checkNoOverflow(b <= FLOOR_SQRT_MAX_LONG);
+            checkNoOverflow(-FLOOR_SQRT_MAX_LONG <= b && b <= FLOOR_SQRT_MAX_LONG);

