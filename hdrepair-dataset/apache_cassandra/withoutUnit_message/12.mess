For C-8789, fix bug caught by Sylvain where 0 is provided as a version to MessageOut.payloadSize because the connection isn't complete

