fix unit test and added javadoc

