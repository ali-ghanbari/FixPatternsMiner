Test and fix for #7852 TreeTable partial update throws NegativeArraySizeException

svn changeset:21840/svn branch:6.7

