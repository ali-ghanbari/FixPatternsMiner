Corrected tests and fixed service to return correct result.


