diff --git a/compiler/backend/src/org/jetbrains/jet/codegen/context/CodegenContext.java b/compiler/backend/src/org/jetbrains/jet/codegen/context/CodegenContext.java
index 993d02c..64eece2 100644
--- a/compiler/backend/src/org/jetbrains/jet/codegen/context/CodegenContext.java
+++ b/compiler/backend/src/org/jetbrains/jet/codegen/context/CodegenContext.java
@@ -293 +293 @@
-            result = result == null ? outer : StackValue.composed(result, outer);
+            result = result == null || outer == null ? outer : StackValue.composed(result, outer);
diff --git a/compiler/testData/codegen/regressions/kt2719.kt b/compiler/testData/codegen/regressions/kt2719.kt
new file mode 100644
index 0000000..e4d5160
--- /dev/null
+++ b/compiler/testData/codegen/regressions/kt2719.kt
@@ -0,0 +1,9 @@
+class Clazz {
+    class object {
+        val a = object {
+            fun run(x: String) = x
+        }
+    }
+}
+
+fun box() = "OK"
\ No newline at end of file
diff --git a/compiler/tests/org/jetbrains/jet/codegen/ObjectGenTest.java b/compiler/tests/org/jetbrains/jet/codegen/ObjectGenTest.java
index 4d1e282..eaea4f1 100644
--- a/compiler/tests/org/jetbrains/jet/codegen/ObjectGenTest.java
+++ b/compiler/tests/org/jetbrains/jet/codegen/ObjectGenTest.java
@@ -86,0 +87,4 @@
+    public void testK2719() {
+        blackBoxFile("regressions/kt2719.kt");
+    }
+

