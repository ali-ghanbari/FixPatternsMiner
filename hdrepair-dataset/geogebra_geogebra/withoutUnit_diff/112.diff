diff --git a/web/src/geogebra/html5/euclidian/EuclidianControllerW.java b/web/src/geogebra/html5/euclidian/EuclidianControllerW.java
index 7feec71..8ff3b52 100644
--- a/web/src/geogebra/html5/euclidian/EuclidianControllerW.java
+++ b/web/src/geogebra/html5/euclidian/EuclidianControllerW.java
@@ -1127 +1127 @@
-		if (pen == null || penMode(mode)) {
+		if (pen == null || penMode(mode)|| !freehandModePrepared) {

