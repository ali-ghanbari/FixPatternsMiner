diff --git a/common/src/geogebra/common/kernel/locusequ/AlgoLocusEquation.java b/common/src/geogebra/common/kernel/locusequ/AlgoLocusEquation.java
index 20737de..f391800 100644
--- a/common/src/geogebra/common/kernel/locusequ/AlgoLocusEquation.java
+++ b/common/src/geogebra/common/kernel/locusequ/AlgoLocusEquation.java
@@ -111 +111 @@
-		if (this.geoPoly.isDefined() && system.looksSame(old_system)) {
+		if (this.geoPoly != null && this.geoPoly.isDefined() && system != null && system.looksSame(old_system)) {

