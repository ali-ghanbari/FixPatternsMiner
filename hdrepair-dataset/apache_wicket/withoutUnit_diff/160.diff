diff --git a/jdk-1.4/wicket/src/main/java/org/apache/wicket/ajax/AbstractDefaultAjaxBehavior.java b/jdk-1.4/wicket/src/main/java/org/apache/wicket/ajax/AbstractDefaultAjaxBehavior.java
index 64c3cd4..2997aba 100644
--- a/jdk-1.4/wicket/src/main/java/org/apache/wicket/ajax/AbstractDefaultAjaxBehavior.java
+++ b/jdk-1.4/wicket/src/main/java/org/apache/wicket/ajax/AbstractDefaultAjaxBehavior.java
@@ -125 +125 @@
-		return "return Wicket.$$(this)";
+		return "return Wicket.$('" + getComponent().getMarkupId() + "') != null;";
diff --git a/jdk-1.4/wicket/src/main/java/org/apache/wicket/ajax/wicket-ajax.js b/jdk-1.4/wicket/src/main/java/org/apache/wicket/ajax/wicket-ajax.js
index b799855..28b2af7 100644
--- a/jdk-1.4/wicket/src/main/java/org/apache/wicket/ajax/wicket-ajax.js
+++ b/jdk-1.4/wicket/src/main/java/org/apache/wicket/ajax/wicket-ajax.js
@@ -1044,0 +1045,7 @@
+		   // start it a bit later so that the browser does handle the next event 
+		   // before the component is or can be replaced. We could do (if (!posponed))
+		   // because if there is already something in the queue then we could execute that immedietly 
+			steps.push(function(notify) {
+			   window.setTimeout(notify,2);
+			}.bind(this));
+			

