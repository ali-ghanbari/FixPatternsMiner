add test that shows that System.in.read blocks forever
- fix problem by replacing System.in with DisconnectableInputStream wrapper

+review REVIEW-5499

