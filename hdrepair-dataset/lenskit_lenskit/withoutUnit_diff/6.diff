diff --git a/lenskit-knn/src/main/java/org/grouplens/lenskit/knn/user/SnapshotNeighborFinder.java b/lenskit-knn/src/main/java/org/grouplens/lenskit/knn/user/SnapshotNeighborFinder.java
index 45a36e8..4acd55c 100644
--- a/lenskit-knn/src/main/java/org/grouplens/lenskit/knn/user/SnapshotNeighborFinder.java
+++ b/lenskit-knn/src/main/java/org/grouplens/lenskit/knn/user/SnapshotNeighborFinder.java
@@ -127 +127 @@
-                double sim = similarity.similarity(user, vector, neighbor, vector);
+                double sim = similarity.similarity(user, userVector, neighbor, vector);

