diff --git a/wasp-core/src/main/java/edu/yu/einstein/wasp/service/impl/SampleServiceImpl.java b/wasp-core/src/main/java/edu/yu/einstein/wasp/service/impl/SampleServiceImpl.java
index 0d83b0a..bdd0b1f 100644
--- a/wasp-core/src/main/java/edu/yu/einstein/wasp/service/impl/SampleServiceImpl.java
+++ b/wasp-core/src/main/java/edu/yu/einstein/wasp/service/impl/SampleServiceImpl.java
@@ -1570 +1570 @@
-		if (this.isLibrary(library) && !library.getSampleType().getIName().equals("controlLibrarySample")) {
+		if (this.isLibrary(library) && !library.getSampleSubtype().getIName().equals("controlLibrarySample")) {

