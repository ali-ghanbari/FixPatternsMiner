Camel-8024 Polished the code and fixed some minor issues

