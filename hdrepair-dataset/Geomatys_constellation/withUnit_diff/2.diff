diff --git a/modules/testing/data/pom.xml b/modules/testing/data/pom.xml
index 96e643c..3730992 100644
--- a/modules/testing/data/pom.xml
+++ b/modules/testing/data/pom.xml
@@ -78,0 +79,6 @@
+      <groupId>org.apache.sis.core</groupId>
+      <artifactId>sis-utility</artifactId>
+      <type>test-jar</type>
+      <version>${sis.version}</version>
+    </dependency>
+    <dependency>
diff --git a/modules/testing/data/src/main/java/org/constellation/test/utils/CstlDOMComparator.java b/modules/testing/data/src/main/java/org/constellation/test/utils/CstlDOMComparator.java
index 2458bd6..ef72d46 100644
--- a/modules/testing/data/src/main/java/org/constellation/test/utils/CstlDOMComparator.java
+++ b/modules/testing/data/src/main/java/org/constellation/test/utils/CstlDOMComparator.java
@@ -19 +19 @@
-package org.constellation.test;
+package org.constellation.test.utils;
diff --git a/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetCapabilitiesResponseSOAP.xml b/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetCapabilitiesResponseSOAP.xml
index 26f8deb..5304970 100644
--- a/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetCapabilitiesResponseSOAP.xml
+++ b/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetCapabilitiesResponseSOAP.xml
@@ -2,344 +2,528 @@
-<S:Envelope xmlns:S="http://www.w3.org/2003/05/soap-envelope">
-    <S:Body>
-        <ns8:Capabilities xmlns:ns3="http://www.opengis.net/sensorML/1.0" xmlns:ns4="http://www.opengis.net/gml" xmlns:ns5="http://www.w3.org/1999/xlink" xmlns:ns6="urn:us:gov:ic:ism:v2" xmlns:ns7="http://www.opengis.net/swe/1.0" xmlns:ns8="http://www.opengis.net/sos/1.0" xmlns:ns9="http://www.opengis.net/om/1.0" xmlns:ns10="http://www.opengis.net/swe/1.0.1" xmlns:ns11="http://www.opengis.net/sampling/1.0" xmlns:ns12="http://www.opengis.net/gml/" xmlns:ns13="http://www.opengis.net/sensorML/1.0.1" xmlns:ns14="http://www.opengis.net/ows/1.1" xmlns:ns15="http://www.opengis.net/ogc" xmlns:ns16="http://soap.ws.sos.constellation.org/" version="1.0.0">
-            <ns14:ServiceIdentification>
-                <ns14:Title xml:lang="fr">Constellation SOS</ns14:Title>
-                <ns14:Abstract xml:lang="fr">Constellation SOS Server</ns14:Abstract>
-                <ns14:Keywords>
-                    <ns14:Keyword>SOS</ns14:Keyword>
-                    <ns14:Keyword>Geomatys</ns14:Keyword>
-                </ns14:Keywords>
-                <ns14:ServiceType codeSpace="http://www.opengeospatial.net">OGC:SOS</ns14:ServiceType>
-                <ns14:ServiceTypeVersion>1.0.0</ns14:ServiceTypeVersion>
-                <ns14:Fees>NONE</ns14:Fees>
-                <ns14:AccessConstraints>NONE</ns14:AccessConstraints>
-            </ns14:ServiceIdentification>
-            <ns14:ServiceProvider>
-                <ns14:ProviderName>Geomatys</ns14:ProviderName>
-                <ns14:ProviderSite ns5:href="http://www.geomatys.fr/"/>
-                <ns14:ServiceContact>
-                    <ns14:IndividualName>Vincent Heurteaux</ns14:IndividualName>
-                    <ns14:PositionName>PDG</ns14:PositionName>
-                    <ns14:ContactInfo>
-                        <ns14:Phone>
-                            <ns14:Voice>04 67 54 87 30</ns14:Voice>
-                        </ns14:Phone>
-                        <ns14:Address>
-                            <ns14:DeliveryPoint>Geomatys</ns14:DeliveryPoint>
-                            <ns14:City>Arles</ns14:City>
-                            <ns14:PostalCode>13200</ns14:PostalCode>
-                            <ns14:Country>FRANCE</ns14:Country>
-                        </ns14:Address>
-                    </ns14:ContactInfo>
-                </ns14:ServiceContact>
-            </ns14:ServiceProvider>
-            <ns14:OperationsMetadata>
-                <ns14:Operation name="GetCapabilities">
-                    <ns14:DCP>
-                        <ns14:HTTP>
-                            <ns14:Get ns5:href="sos/default?"/>
-                            <ns14:Post ns5:href="sos/default?"/>
-                        </ns14:HTTP>
-                    </ns14:DCP>
-                    <ns14:Parameter name="service">
-                        <ns14:AllowedValues>
-                            <ns14:Value>SOS</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="Acceptversions">
-                        <ns14:AllowedValues>
-                            <ns14:Value>1.0.0</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="Sections">
-                        <ns14:AllowedValues>
-                            <ns14:Value>ServiceIdentification</ns14:Value>
-                            <ns14:Value>ServiceProvider</ns14:Value>
-                            <ns14:Value>OperationsMetadata</ns14:Value>
-                            <ns14:Value>Contents</ns14:Value>
-                            <ns14:Value>Filter_Capabilities</ns14:Value>
-                            <ns14:Value>All</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="AcceptFormats">
-                        <ns14:AllowedValues>
-                            <ns14:Value>text/xml</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                </ns14:Operation>
-                <ns14:Operation name="RegisterSensor">
-                    <ns14:DCP>
-                        <ns14:HTTP>
-                            <ns14:Post ns5:href="sos/default?"/>
-                        </ns14:HTTP>
-                    </ns14:DCP>
-                    <ns14:Parameter name="version">
-                        <ns14:AllowedValues>
-                            <ns14:Value>1.0.0</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="service">
-                        <ns14:AllowedValues>
-                            <ns14:Value>SOS</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                </ns14:Operation>
-                <ns14:Operation name="GetResult">
-                    <ns14:DCP>
-                        <ns14:HTTP>
-                            <ns14:Post ns5:href="sos/default?"/>
-                        </ns14:HTTP>
-                    </ns14:DCP>
-                    <ns14:Parameter name="version">
-                        <ns14:AllowedValues>
-                            <ns14:Value>1.0.0</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="service">
-                        <ns14:AllowedValues>
-                            <ns14:Value>SOS</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                </ns14:Operation>
-                <ns14:Operation name="GetObservation">
-                    <ns14:DCP>
-                        <ns14:HTTP>
-                            <ns14:Post ns5:href="sos/default?"/>
-                        </ns14:HTTP>
-                    </ns14:DCP>
-                    <ns14:Parameter name="version">
-                        <ns14:AllowedValues>
-                            <ns14:Value>1.0.0</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="service">
-                        <ns14:AllowedValues>
-                            <ns14:Value>SOS</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="srsName">
-                        <ns14:AnyValue/>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="offering">
-                        <ns14:AllowedValues>
-                            <ns14:Value>offering-allSensor</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="eventTime">
-                        <ns14:AllowedValues>
-                            <ns14:Range>
-                                <ns14:MinimumValue>2009-07-31 16:09:12.046</ns14:MinimumValue>
-                                <ns14:MaximumValue>now</ns14:MaximumValue>
-                            </ns14:Range>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="procedure">
-                        <ns14:AllowedValues>
-                            <ns14:Value>urn:ogc:object:sensor:SunSpot:0014.4F01.0000.261A</ns14:Value>
-                            <ns14:Value>urn:ogc:object:sensor:SunSpot:0014.4F01.0000.2626</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="observedProperty">
-                        <ns14:AllowedValues>
-                            <ns14:Value>light</ns14:Value>
-                            <ns14:Value>temperature</ns14:Value>
-                            <ns14:Value>acceleration</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="featureOfInterest">
-                        <ns14:AllowedValues>
-                            <ns14:Value>sampling-point-001</ns14:Value>
-                            <ns14:Value>station-003</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="result">
-                        <ns14:AnyValue/>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="responseFormat">
-                        <ns14:AllowedValues>
-                            <ns14:Value>text/xml; subtype=&quot;om/1.0.0&quot;</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="resultModel">
-                        <ns14:AllowedValues>
-                            <ns14:Value>om:Observation</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="responseMode">
-                        <ns14:AllowedValues>
-                            <ns14:Value>inline</ns14:Value>
-                            <ns14:Value>resultTemplate</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                </ns14:Operation>
-                <ns14:Operation name="InsertObservation">
-                    <ns14:DCP>
-                        <ns14:HTTP>
-                            <ns14:Post ns5:href="sos/default?"/>
-                        </ns14:HTTP>
-                    </ns14:DCP>
-                    <ns14:Parameter name="version">
-                        <ns14:AllowedValues>
-                            <ns14:Value>1.0.0</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="service">
-                        <ns14:AllowedValues>
-                            <ns14:Value>SOS</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                </ns14:Operation>
-                <ns14:Operation name="GetFeatureOfInterest">
-                    <ns14:DCP>
-                        <ns14:HTTP>
-                            <ns14:Post ns5:href="sos/default?"/>
-                        </ns14:HTTP>
-                    </ns14:DCP>
-                    <ns14:Parameter name="featureOfInterestId">
-                        <ns14:AllowedValues>
-                            <ns14:Value>sampling-point-001</ns14:Value>
-                            <ns14:Value>station-003</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="version">
-                        <ns14:AllowedValues>
-                            <ns14:Value>1.0.0</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="service">
-                        <ns14:AllowedValues>
-                            <ns14:Value>SOS</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                </ns14:Operation>
-                <ns14:Operation name="GetFeatureOfInterestTime">
-                    <ns14:DCP>
-                        <ns14:HTTP>
-                            <ns14:Post ns5:href="sos/default?"/>
-                        </ns14:HTTP>
-                    </ns14:DCP>
-                    <ns14:Parameter name="featureOfInterestId">
-                        <ns14:AllowedValues>
-                            <ns14:Value>sampling-point-001</ns14:Value>
-                            <ns14:Value>station-003</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="version">
-                        <ns14:AllowedValues>
-                            <ns14:Value>1.0.0</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="service">
-                        <ns14:AllowedValues>
-                            <ns14:Value>SOS</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                </ns14:Operation>
-                <ns14:Operation name="DescribeSensor">
-                    <ns14:DCP>
-                        <ns14:HTTP>
-                            <ns14:Post ns5:href="sos/default?"/>
-                        </ns14:HTTP>
-                    </ns14:DCP>
-                    <ns14:Parameter name="version">
-                        <ns14:AllowedValues>
-                            <ns14:Value>1.0.0</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="service">
-                        <ns14:AllowedValues>
-                            <ns14:Value>SOS</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="outputFormat">
-                        <ns14:AllowedValues>
-                            <ns14:Value>text/xml;subtype=&quot;sensorML/1.0.0&quot;</ns14:Value>
-                            <ns14:Value>text/xml;subtype=&quot;sensorML/1.0.1&quot;</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                    <ns14:Parameter name="procedure">
-                        <ns14:AllowedValues>
-                            <ns14:Value>urn-ogc-object-sensor-SunSpot-0014.4F01.0000.261A</ns14:Value>
-                            <ns14:Value>urn-ogc-object-sensor-SunSpot-0014.4F01.0000.2626</ns14:Value>
-                            <ns14:Value>urn-ogc-object-sensor-SunSpot-2</ns14:Value>
-                        </ns14:AllowedValues>
-                    </ns14:Parameter>
-                </ns14:Operation>
-                <ns14:Constraint name="PostEncoding">
-                    <ns14:AllowedValues>
-                        <ns14:Value>XML</ns14:Value>
-                    </ns14:AllowedValues>
-                </ns14:Constraint>
-            </ns14:OperationsMetadata>
-            <ns8:Filter_Capabilities>
-                <ns15:Spatial_Capabilities>
-                    <ns15:GeometryOperands>
-                        <ns15:GeometryOperand>ns4:Envelope</ns15:GeometryOperand>
-                    </ns15:GeometryOperands>
-                    <ns15:SpatialOperators>
-                        <ns15:SpatialOperator name="BBOX"/>
-                    </ns15:SpatialOperators>
-                </ns15:Spatial_Capabilities>
-                <ns15:Temporal_Capabilities>
-                    <ns15:TemporalOperands>
-                        <ns15:TemporalOperand>ns4:TimeInstant</ns15:TemporalOperand>
-                        <ns15:TemporalOperand>ns4:TimePeriod</ns15:TemporalOperand>
-                    </ns15:TemporalOperands>
-                    <ns15:TemporalOperators>
-                        <ns15:TemporalOperator name="TM_During"/>
-                        <ns15:TemporalOperator name="TM_Equals"/>
-                        <ns15:TemporalOperator name="TM_After"/>
-                        <ns15:TemporalOperator name="TM_Before"/>
-                    </ns15:TemporalOperators>
-                </ns15:Temporal_Capabilities>
-                <ns15:Scalar_Capabilities>
-                    <ns15:ComparisonOperators>
-                        <ns15:ComparisonOperator>Between</ns15:ComparisonOperator>
-                        <ns15:ComparisonOperator>EqualTo</ns15:ComparisonOperator>
-                        <ns15:ComparisonOperator>NotEqualTo</ns15:ComparisonOperator>
-                        <ns15:ComparisonOperator>LessThan</ns15:ComparisonOperator>
-                        <ns15:ComparisonOperator>LessThanEqualTo</ns15:ComparisonOperator>
-                        <ns15:ComparisonOperator>GreaterThan</ns15:ComparisonOperator>
-                        <ns15:ComparisonOperator>GreaterThanEqualTo</ns15:ComparisonOperator>
-                        <ns15:ComparisonOperator>Like</ns15:ComparisonOperator>
-                    </ns15:ComparisonOperators>
-                </ns15:Scalar_Capabilities>
-                <ns15:Id_Capabilities>
-                    <ns15:EID/>
-                    <ns15:FID/>
-                </ns15:Id_Capabilities>
-            </ns8:Filter_Capabilities>
-            <ns8:Contents>
-                <ns8:ObservationOfferingList>
-                    <ns8:ObservationOffering ns4:id="offering-allSensor">
-                        <ns4:description>Base offering containing all the sensors.</ns4:description>
-                        <ns4:name>offering-allSensor</ns4:name>
-                        <ns4:srsName>EPSG:4326</ns4:srsName>
-                        <ns4:boundedBy>
-                            <ns4:Null>not_bounded</ns4:Null>
-                        </ns4:boundedBy>
-                        <ns8:time>
-                            <ns4:TimePeriod ns4:id="time-offering-allSensor">
-                                <ns4:beginPosition>2009-07-31T16:09:12.046</ns4:beginPosition>
-                                <ns4:endPosition indeterminatePosition="now"></ns4:endPosition>
-                            </ns4:TimePeriod>
-                        </ns8:time>
-                        <ns8:procedure ns5:href="urn:ogc:object:sensor:SunSpot:0014.4F01.0000.261A"/>
-                        <ns8:procedure ns5:href="urn:ogc:object:sensor:SunSpot:0014.4F01.0000.2626"/>
-                        <ns8:observedProperty>
-                            <ns10:Phenomenon ns4:id="acceleration">
-                                <ns4:name>urn:phenomenon:acceleration</ns4:name>
-                            </ns10:Phenomenon>
-                        </ns8:observedProperty>
-                        <ns8:featureOfInterest ns5:href="sampling-point-001"/>
-                        <ns8:responseFormat>text/xml; subtype=&quot;om/1.0.0&quot;</ns8:responseFormat>
-                        <ns8:resultModel>ns9:Observation</ns8:resultModel>
-                        <ns8:resultModel>ns9:Measurement</ns8:resultModel>
-                        <ns8:responseMode>resultTemplate</ns8:responseMode>
-                        <ns8:responseMode>inline</ns8:responseMode>
-                    </ns8:ObservationOffering>
-                </ns8:ObservationOfferingList>
-            </ns8:Contents>
-        </ns8:Capabilities>
-    </S:Body>
-</S:Envelope>
\ No newline at end of file
+<env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope">
+    <env:Body>
+        <sos:Capabilities xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gco="http://www.isotc211.org/2005/gco" xmlns:gmd="http://www.isotc211.org/2005/gmd" xmlns:gmi="http://www.isotc211.org/2005/gmi" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:gmx="http://www.isotc211.org/2005/gmx" xmlns:gts="http://www.isotc211.org/2005/gts" xmlns:icism="urn:us:gov:ic:ism:v2" xmlns:ns16="http://www.opengis.net/gml" xmlns:ns20="http://www.opengis.net/sos/2.0" xmlns:ns23="http://www.opengis.net/om/2.0" xmlns:ns24="http://www.opengis.net/sampling/2.0" xmlns:ns26="http://www.w3.org/2005/08/addressing" xmlns:ns27="http://www.opengis.net/swe/2.0" xmlns:ns28="http://docs.oasis-open.org/wsn/t-1" xmlns:ns29="http://www.opengis.net/gml/" xmlns:ogc="http://www.opengis.net/ogc" xmlns:om="http://www.opengis.net/om/1.0" xmlns:ows="http://www.opengis.net/ows/1.1" xmlns:sampling="http://www.opengis.net/sampling/1.0" xmlns:samplingspatial="http://www.opengis.net/samplingSpatial/2.0" xmlns:sml="http://www.opengis.net/sensorML/1.0.1" xmlns:sml1="http://www.opengis.net/sensorML/1.0" xmlns:sos="http://www.opengis.net/sos/1.0" xmlns:srv="http://www.isotc211.org/2005/srv" xmlns:swe="http://www.opengis.net/swe/1.0.1" xmlns:swe1="http://www.opengis.net/swe/1.0" xmlns:swes="http://www.opengis.net/swes/2.0" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" updateSequence="1404743896342" version="1.0.0">
+            <ows:ServiceIdentification>
+                <ows:Title>Constellation SOS Server</ows:Title>
+                <ows:Abstract>Constellation SOS Server</ows:Abstract>
+                <ows:Keywords>
+                    <ows:Keyword>SOS</ows:Keyword>
+                    <ows:Keyword>Constellation</ows:Keyword>
+                    <ows:Keyword>Geomatys</ows:Keyword>
+                </ows:Keywords>
+                <ows:ServiceType>SOS</ows:ServiceType>
+                <ows:ServiceTypeVersion>1.0.0</ows:ServiceTypeVersion>
+                <ows:ServiceTypeVersion>2.0.0</ows:ServiceTypeVersion>
+                <ows:Fees>NONE</ows:Fees>
+                <ows:AccessConstraints>NONE</ows:AccessConstraints>
+            </ows:ServiceIdentification>
+            <ows:ServiceProvider>
+                <ows:ProviderName>Geomatys</ows:ProviderName>
+                <ows:ServiceContact>
+                    <ows:IndividualName>Vincent Heurteaux</ows:IndividualName>
+                    <ows:PositionName>dev</ows:PositionName>
+                    <ows:ContactInfo>
+                        <ows:Phone>
+                            <ows:Voice>04 67 54 87 30</ows:Voice>
+                            <ows:Facsimile>04 67 54 87 00</ows:Facsimile>
+                        </ows:Phone>
+                        <ows:Address>
+                            <ows:DeliveryPoint>24 rue Pierre Renaudel</ows:DeliveryPoint>
+                            <ows:City>Arles</ows:City>
+                            <ows:AdministrativeArea>PACA</ows:AdministrativeArea>
+                            <ows:PostalCode>13200</ows:PostalCode>
+                            <ows:Country>France</ows:Country>
+                            <ows:ElectronicMailAddress>vincent.heurteaux@geomatys.com</ows:ElectronicMailAddress>
+                        </ows:Address>
+                    </ows:ContactInfo>
+                </ows:ServiceContact>
+            </ows:ServiceProvider>
+            <ows:OperationsMetadata>
+                <ows:Operation name="GetCapabilities">
+                    <ows:DCP>
+                        <ows:HTTP>
+                            <ows:Get xlink:href="/sos/default?"/>
+                            <ows:Post xlink:href="/sos/default?"/>
+                        </ows:HTTP>
+                    </ows:DCP>
+                    <ows:Parameter name="service">
+                        <ows:AllowedValues>
+                            <ows:Value>SOS</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="Acceptversions">
+                        <ows:AllowedValues>
+                            <ows:Value>1.0.0</ows:Value>
+                            <ows:Value>2.0.0</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="Sections">
+                        <ows:AllowedValues>
+                            <ows:Value>ServiceIdentification</ows:Value>
+                            <ows:Value>ServiceProvider</ows:Value>
+                            <ows:Value>OperationsMetadata</ows:Value>
+                            <ows:Value>Filter_Capabilities</ows:Value>
+                            <ows:Value>All</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="AcceptFormats">
+                        <ows:AllowedValues>
+                            <ows:Value>text/xml</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                </ows:Operation>
+                <ows:Operation name="RegisterSensor">
+                    <ows:DCP>
+                        <ows:HTTP>
+                            <ows:Post xlink:href="/sos/default?"/>
+                        </ows:HTTP>
+                    </ows:DCP>
+                    <ows:Parameter name="version">
+                        <ows:AllowedValues>
+                            <ows:Value>1.0.0</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="service">
+                        <ows:AllowedValues>
+                            <ows:Value>SOS</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                </ows:Operation>
+                <ows:Operation name="GetResult">
+                    <ows:DCP>
+                        <ows:HTTP>
+                            <ows:Get xlink:href="/sos/default?"/>
+                            <ows:Post xlink:href="/sos/default?"/>
+                        </ows:HTTP>
+                    </ows:DCP>
+                    <ows:Parameter name="version">
+                        <ows:AllowedValues>
+                            <ows:Value>1.0.0</ows:Value>
+                            <ows:Value>2.0.0</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="service">
+                        <ows:AllowedValues>
+                            <ows:Value>SOS</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                </ows:Operation>
+                <ows:Operation name="GetObservation">
+                    <ows:DCP>
+                        <ows:HTTP>
+                            <ows:Get xlink:href="/sos/default?"/>
+                            <ows:Post xlink:href="/sos/default?"/>
+                        </ows:HTTP>
+                    </ows:DCP>
+                    <ows:Parameter name="version">
+                        <ows:AllowedValues>
+                            <ows:Value>1.0.0</ows:Value>
+                            <ows:Value>2.0.0</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="service">
+                        <ows:AllowedValues>
+                            <ows:Value>SOS</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="srsName">
+                        <ows:AnyValue/>
+                    </ows:Parameter>
+                    <ows:Parameter name="offering">
+                        <ows:AllowedValues>
+                            <ows:Value>offering-1</ows:Value>
+                            <ows:Value>offering-10</ows:Value>
+                            <ows:Value>offering-2</ows:Value>
+                            <ows:Value>offering-3</ows:Value>
+                            <ows:Value>offering-4</ows:Value>
+                            <ows:Value>offering-5</ows:Value>
+                            <ows:Value>offering-6</ows:Value>
+                            <ows:Value>offering-7</ows:Value>
+                            <ows:Value>offering-8</ows:Value>
+                            <ows:Value>offering-9</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="eventTime">
+                        <ows:AllowedValues>
+                            <ows:Range>
+                                <ows:MinimumValue>now</ows:MinimumValue>
+                                <ows:MaximumValue>now</ows:MaximumValue>
+                            </ows:Range>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="procedure">
+                        <ows:AllowedValues>
+                            <ows:Value>urn:ogc:object:sensor:GEOM:1</ows:Value>
+                            <ows:Value>urn:ogc:object:sensor:GEOM:10</ows:Value>
+                            <ows:Value>urn:ogc:object:sensor:GEOM:2</ows:Value>
+                            <ows:Value>urn:ogc:object:sensor:GEOM:3</ows:Value>
+                            <ows:Value>urn:ogc:object:sensor:GEOM:4</ows:Value>
+                            <ows:Value>urn:ogc:object:sensor:GEOM:5</ows:Value>
+                            <ows:Value>urn:ogc:object:sensor:GEOM:6</ows:Value>
+                            <ows:Value>urn:ogc:object:sensor:GEOM:7</ows:Value>
+                            <ows:Value>urn:ogc:object:sensor:GEOM:8</ows:Value>
+                            <ows:Value>urn:ogc:object:sensor:GEOM:9</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="observedProperty">
+                        <ows:AllowedValues>
+                            <ows:Value>urn:ogc:def:phenomenon:GEOM:aggregatePhenomenon</ows:Value>
+                            <ows:Value>urn:ogc:def:phenomenon:GEOM:depth</ows:Value>
+                            <ows:Value>urn:ogc:def:phenomenon:GEOM:temperature</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="featureOfInterest">
+                        <ows:AllowedValues>
+                            <ows:Value>station-001</ows:Value>
+                            <ows:Value>station-002</ows:Value>
+                            <ows:Value>station-003</ows:Value>
+                            <ows:Value>station-004</ows:Value>
+                            <ows:Value>station-005</ows:Value>
+                            <ows:Value>station-006</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="result">
+                        <ows:AnyValue/>
+                    </ows:Parameter>
+                    <ows:Parameter name="responseFormat">
+                        <ows:AllowedValues>
+                            <ows:Value>text/xml; subtype="om/1.0.0"</ows:Value>
+                            <ows:Value>http://www.opengis.net/om/2.0</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="resultModel">
+                        <ows:AllowedValues>
+                            <ows:Value>om:Observation</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="responseMode">
+                        <ows:AllowedValues>
+                            <ows:Value>inline</ows:Value>
+                            <ows:Value>resultTemplate</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                </ows:Operation>
+                <ows:Operation name="GetObservationById">
+                    <ows:DCP>
+                        <ows:HTTP>
+                            <ows:Get xlink:href="/sos/default?"/>
+                            <ows:Post xlink:href="/sos/default?"/>
+                        </ows:HTTP>
+                    </ows:DCP>
+                    <ows:Parameter name="version">
+                        <ows:AllowedValues>
+                            <ows:Value>1.0.0</ows:Value>
+                            <ows:Value>2.0.0</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="service">
+                        <ows:AllowedValues>
+                            <ows:Value>SOS</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="observation">
+                        <ows:AnyValue/>
+                    </ows:Parameter>
+                </ows:Operation>
+                <ows:Operation name="InsertObservation">
+                    <ows:DCP>
+                        <ows:HTTP>
+                            <ows:Post xlink:href="/sos/default?"/>
+                        </ows:HTTP>
+                    </ows:DCP>
+                    <ows:Parameter name="version">
+                        <ows:AllowedValues>
+                            <ows:Value>1.0.0</ows:Value>
+                            <ows:Value>2.0.0</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="service">
+                        <ows:AllowedValues>
+                            <ows:Value>SOS</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                </ows:Operation>
+                <ows:Operation name="GetFeatureOfInterest">
+                    <ows:DCP>
+                        <ows:HTTP>
+                            <ows:Get xlink:href="/sos/default?"/>
+                            <ows:Post xlink:href="/sos/default?"/>
+                        </ows:HTTP>
+                    </ows:DCP>
+                    <ows:Parameter name="featureOfInterestId">
+                        <ows:AllowedValues>
+                            <ows:Value>station-001</ows:Value>
+                            <ows:Value>station-002</ows:Value>
+                            <ows:Value>station-003</ows:Value>
+                            <ows:Value>station-004</ows:Value>
+                            <ows:Value>station-005</ows:Value>
+                            <ows:Value>station-006</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="version">
+                        <ows:AllowedValues>
+                            <ows:Value>1.0.0</ows:Value>
+                            <ows:Value>2.0.0</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="service">
+                        <ows:AllowedValues>
+                            <ows:Value>SOS</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                </ows:Operation>
+                <ows:Operation name="GetFeatureOfInterestTime">
+                    <ows:DCP>
+                        <ows:HTTP>
+                            <ows:Post xlink:href="/sos/default?"/>
+                        </ows:HTTP>
+                    </ows:DCP>
+                    <ows:Parameter name="featureOfInterestId">
+                        <ows:AllowedValues>
+                            <ows:Value>station-001</ows:Value>
+                            <ows:Value>station-002</ows:Value>
+                            <ows:Value>station-003</ows:Value>
+                            <ows:Value>station-004</ows:Value>
+                            <ows:Value>station-005</ows:Value>
+                            <ows:Value>station-006</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="version">
+                        <ows:AllowedValues>
+                            <ows:Value>1.0.0</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="service">
+                        <ows:AllowedValues>
+                            <ows:Value>SOS</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                </ows:Operation>
+                <ows:Operation name="DescribeSensor">
+                    <ows:DCP>
+                        <ows:HTTP>
+                            <ows:Get xlink:href="/sos/default?"/>
+                            <ows:Post xlink:href="/sos/default?"/>
+                        </ows:HTTP>
+                    </ows:DCP>
+                    <ows:Parameter name="version">
+                        <ows:AllowedValues>
+                            <ows:Value>1.0.0</ows:Value>
+                            <ows:Value>2.0.0</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="service">
+                        <ows:AllowedValues>
+                            <ows:Value>SOS</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="outputFormat">
+                        <ows:AllowedValues>
+                            <ows:Value>text/xml;subtype="sensorML/1.0.0"</ows:Value>
+                            <ows:Value>text/xml;subtype="sensorML/1.0.1"</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                    <ows:Parameter name="procedure">
+                        <ows:AllowedValues>
+                            <ows:Value>urn-ogc-object-sensor-SunSpot-0014.4F01.0000.261A</ows:Value>
+                            <ows:Value>urn-ogc-object-sensor-SunSpot-0014.4F01.0000.2626</ows:Value>
+                            <ows:Value>urn-ogc-object-sensor-SunSpot-2</ows:Value>
+                        </ows:AllowedValues>
+                    </ows:Parameter>
+                </ows:Operation>
+                <ows:Constraint name="PostEncoding">
+                    <ows:AllowedValues>
+                        <ows:Value>XML</ows:Value>
+                    </ows:AllowedValues>
+                </ows:Constraint>
+            </ows:OperationsMetadata>
+            <sos:Filter_Capabilities>
+                <ogc:Spatial_Capabilities>
+                    <ogc:GeometryOperands>
+                        <ogc:GeometryOperand>ns16:Envelope</ogc:GeometryOperand>
+                    </ogc:GeometryOperands>
+                    <ogc:SpatialOperators>
+                        <ogc:SpatialOperator name="BBOX"/>
+                    </ogc:SpatialOperators>
+                </ogc:Spatial_Capabilities>
+                <ogc:Temporal_Capabilities>
+                    <ogc:TemporalOperands>
+                        <ogc:TemporalOperand>ns16:TimeInstant</ogc:TemporalOperand>
+                        <ogc:TemporalOperand>ns16:TimePeriod</ogc:TemporalOperand>
+                    </ogc:TemporalOperands>
+                    <ogc:TemporalOperators>
+                        <ogc:TemporalOperator name="TM_During"/>
+                        <ogc:TemporalOperator name="TM_Equals"/>
+                        <ogc:TemporalOperator name="TM_After"/>
+                        <ogc:TemporalOperator name="TM_Before"/>
+                    </ogc:TemporalOperators>
+                </ogc:Temporal_Capabilities>
+                <ogc:Scalar_Capabilities>
+                    <ogc:ComparisonOperators>
+                        <ogc:ComparisonOperator>Between</ogc:ComparisonOperator>
+                        <ogc:ComparisonOperator>EqualTo</ogc:ComparisonOperator>
+                        <ogc:ComparisonOperator>NotEqualTo</ogc:ComparisonOperator>
+                        <ogc:ComparisonOperator>LessThan</ogc:ComparisonOperator>
+                        <ogc:ComparisonOperator>LessThanEqualTo</ogc:ComparisonOperator>
+                        <ogc:ComparisonOperator>GreaterThan</ogc:ComparisonOperator>
+                        <ogc:ComparisonOperator>GreaterThanEqualTo</ogc:ComparisonOperator>
+                        <ogc:ComparisonOperator>Like</ogc:ComparisonOperator>
+                    </ogc:ComparisonOperators>
+                </ogc:Scalar_Capabilities>
+                <ogc:Id_Capabilities>
+                    <ogc:EID/>
+                    <ogc:FID/>
+                </ogc:Id_Capabilities>
+            </sos:Filter_Capabilities>
+            <sos:Contents>
+                <sos:ObservationOfferingList>
+                    <sos:ObservationOffering ns16:id="offering-1">
+                        <ns16:name>offering-1</ns16:name>
+                        <ns16:boundedBy>
+                            <ns16:Null>not_bounded</ns16:Null>
+                        </ns16:boundedBy>
+                        <sos:time/>
+                        <sos:procedure xlink:href="urn:ogc:object:sensor:GEOM:1"/>
+                        <sos:responseFormat>text/xml; subtype="om/1.0.0"</sos:responseFormat>
+                        <sos:resultModel>om:Observation</sos:resultModel>
+                        <sos:resultModel>om:Measurement</sos:resultModel>
+                        <sos:responseMode>inline</sos:responseMode>
+                        <sos:responseMode>resultTemplate</sos:responseMode>
+                    </sos:ObservationOffering>
+                    <sos:ObservationOffering ns16:id="offering-10">
+                        <ns16:name>offering-10</ns16:name>
+                        <ns16:boundedBy>
+                            <ns16:Null>not_bounded</ns16:Null>
+                        </ns16:boundedBy>
+                        <sos:time/>
+                        <sos:procedure xlink:href="urn:ogc:object:sensor:GEOM:10"/>
+                        <sos:responseFormat>text/xml; subtype="om/1.0.0"</sos:responseFormat>
+                        <sos:resultModel>om:Observation</sos:resultModel>
+                        <sos:resultModel>om:Measurement</sos:resultModel>
+                        <sos:responseMode>inline</sos:responseMode>
+                        <sos:responseMode>resultTemplate</sos:responseMode>
+                    </sos:ObservationOffering>
+                    <sos:ObservationOffering ns16:id="offering-2">
+                        <ns16:name>offering-2</ns16:name>
+                        <ns16:boundedBy>
+                            <ns16:Null>not_bounded</ns16:Null>
+                        </ns16:boundedBy>
+                        <sos:time/>
+                        <sos:procedure xlink:href="urn:ogc:object:sensor:GEOM:2"/>
+                        <sos:responseFormat>text/xml; subtype="om/1.0.0"</sos:responseFormat>
+                        <sos:resultModel>om:Observation</sos:resultModel>
+                        <sos:resultModel>om:Measurement</sos:resultModel>
+                        <sos:responseMode>inline</sos:responseMode>
+                        <sos:responseMode>resultTemplate</sos:responseMode>
+                    </sos:ObservationOffering>
+                    <sos:ObservationOffering ns16:id="offering-3">
+                        <ns16:name>offering-3</ns16:name>
+                        <ns16:boundedBy>
+                            <ns16:Null>not_bounded</ns16:Null>
+                        </ns16:boundedBy>
+                        <sos:time/>
+                        <sos:procedure xlink:href="urn:ogc:object:sensor:GEOM:3"/>
+                        <sos:observedProperty xlink:href="urn:ogc:def:phenomenon:GEOM:aggregatePhenomenon"/>
+                        <sos:observedProperty xlink:href="urn:ogc:def:phenomenon:GEOM:depth"/>
+                        <sos:observedProperty xlink:href="urn:ogc:def:phenomenon:GEOM:temperature"/>
+                        <sos:featureOfInterest xlink:href="station-001"/>
+                        <sos:responseFormat>text/xml; subtype="om/1.0.0"</sos:responseFormat>
+                        <sos:resultModel>om:Observation</sos:resultModel>
+                        <sos:resultModel>om:Measurement</sos:resultModel>
+                        <sos:responseMode>inline</sos:responseMode>
+                        <sos:responseMode>resultTemplate</sos:responseMode>
+                    </sos:ObservationOffering>
+                    <sos:ObservationOffering ns16:id="offering-4">
+                        <ns16:name>offering-4</ns16:name>
+                        <ns16:boundedBy>
+                            <ns16:Null>not_bounded</ns16:Null>
+                        </ns16:boundedBy>
+                        <sos:time/>
+                        <sos:procedure xlink:href="urn:ogc:object:sensor:GEOM:4"/>
+                        <sos:observedProperty xlink:href="urn:ogc:def:phenomenon:GEOM:aggregatePhenomenon"/>
+                        <sos:observedProperty xlink:href="urn:ogc:def:phenomenon:GEOM:depth"/>
+                        <sos:observedProperty xlink:href="urn:ogc:def:phenomenon:GEOM:temperature"/>
+                        <sos:featureOfInterest xlink:href="station-001"/>
+                        <sos:responseFormat>text/xml; subtype="om/1.0.0"</sos:responseFormat>
+                        <sos:resultModel>om:Observation</sos:resultModel>
+                        <sos:resultModel>om:Measurement</sos:resultModel>
+                        <sos:responseMode>inline</sos:responseMode>
+                        <sos:responseMode>resultTemplate</sos:responseMode>
+                    </sos:ObservationOffering>
+                    <sos:ObservationOffering ns16:id="offering-5">
+                        <ns16:name>offering-5</ns16:name>
+                        <ns16:boundedBy>
+                            <ns16:Null>not_bounded</ns16:Null>
+                        </ns16:boundedBy>
+                        <sos:time/>
+                        <sos:procedure xlink:href="urn:ogc:object:sensor:GEOM:5"/>
+                        <sos:observedProperty xlink:href="urn:ogc:def:phenomenon:GEOM:aggregatePhenomenon"/>
+                        <sos:observedProperty xlink:href="urn:ogc:def:phenomenon:GEOM:depth"/>
+                        <sos:observedProperty xlink:href="urn:ogc:def:phenomenon:GEOM:temperature"/>
+                        <sos:featureOfInterest xlink:href="station-002"/>
+                        <sos:responseFormat>text/xml; subtype="om/1.0.0"</sos:responseFormat>
+                        <sos:resultModel>om:Observation</sos:resultModel>
+                        <sos:resultModel>om:Measurement</sos:resultModel>
+                        <sos:responseMode>inline</sos:responseMode>
+                        <sos:responseMode>resultTemplate</sos:responseMode>
+                    </sos:ObservationOffering>
+                    <sos:ObservationOffering ns16:id="offering-6">
+                        <ns16:name>offering-6</ns16:name>
+                        <ns16:boundedBy>
+                            <ns16:Null>not_bounded</ns16:Null>
+                        </ns16:boundedBy>
+                        <sos:time/>
+                        <sos:procedure xlink:href="urn:ogc:object:sensor:GEOM:6"/>
+                        <sos:responseFormat>text/xml; subtype="om/1.0.0"</sos:responseFormat>
+                        <sos:resultModel>om:Observation</sos:resultModel>
+                        <sos:resultModel>om:Measurement</sos:resultModel>
+                        <sos:responseMode>inline</sos:responseMode>
+                        <sos:responseMode>resultTemplate</sos:responseMode>
+                    </sos:ObservationOffering>
+                    <sos:ObservationOffering ns16:id="offering-7">
+                        <ns16:name>offering-7</ns16:name>
+                        <ns16:boundedBy>
+                            <ns16:Null>not_bounded</ns16:Null>
+                        </ns16:boundedBy>
+                        <sos:time/>
+                        <sos:procedure xlink:href="urn:ogc:object:sensor:GEOM:7"/>
+                        <sos:responseFormat>text/xml; subtype="om/1.0.0"</sos:responseFormat>
+                        <sos:resultModel>om:Observation</sos:resultModel>
+                        <sos:resultModel>om:Measurement</sos:resultModel>
+                        <sos:responseMode>inline</sos:responseMode>
+                        <sos:responseMode>resultTemplate</sos:responseMode>
+                    </sos:ObservationOffering>
+                    <sos:ObservationOffering ns16:id="offering-8">
+                        <ns16:name>offering-8</ns16:name>
+                        <ns16:boundedBy>
+                            <ns16:Null>not_bounded</ns16:Null>
+                        </ns16:boundedBy>
+                        <sos:time/>
+                        <sos:procedure xlink:href="urn:ogc:object:sensor:GEOM:8"/>
+                        <sos:observedProperty xlink:href="urn:ogc:def:phenomenon:GEOM:aggregatePhenomenon"/>
+                        <sos:observedProperty xlink:href="urn:ogc:def:phenomenon:GEOM:depth"/>
+                        <sos:observedProperty xlink:href="urn:ogc:def:phenomenon:GEOM:temperature"/>
+                        <sos:featureOfInterest xlink:href="station-006"/>
+                        <sos:responseFormat>text/xml; subtype="om/1.0.0"</sos:responseFormat>
+                        <sos:resultModel>om:Observation</sos:resultModel>
+                        <sos:resultModel>om:Measurement</sos:resultModel>
+                        <sos:responseMode>inline</sos:responseMode>
+                        <sos:responseMode>resultTemplate</sos:responseMode>
+                    </sos:ObservationOffering>
+                    <sos:ObservationOffering ns16:id="offering-9">
+                        <ns16:name>offering-9</ns16:name>
+                        <ns16:boundedBy>
+                            <ns16:Null>not_bounded</ns16:Null>
+                        </ns16:boundedBy>
+                        <sos:time/>
+                        <sos:procedure xlink:href="urn:ogc:object:sensor:GEOM:9"/>
+                        <sos:responseFormat>text/xml; subtype="om/1.0.0"</sos:responseFormat>
+                        <sos:resultModel>om:Observation</sos:resultModel>
+                        <sos:resultModel>om:Measurement</sos:resultModel>
+                        <sos:responseMode>inline</sos:responseMode>
+                        <sos:responseMode>resultTemplate</sos:responseMode>
+                    </sos:ObservationOffering>
+                </sos:ObservationOfferingList>
+            </sos:Contents>
+        </sos:Capabilities>
+    </env:Body>
+</env:Envelope>
\ No newline at end of file
diff --git a/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetCapabilitiesSOAP.xml b/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetCapabilitiesSOAP.xml
index cb81588..aca61e6 100644
--- a/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetCapabilitiesSOAP.xml
+++ b/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetCapabilitiesSOAP.xml
@@ -11 +11 @@
-			<AcceptVersions>
+			<ows:AcceptVersions>
@@ -13 +13 @@
-			</AcceptVersions>
+			</ows:AcceptVersions>
diff --git a/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetFeatureOfInterestResponseSOAP.xml b/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetFeatureOfInterestResponseSOAP.xml
index 38c6b41..a62e0d7 100644
--- a/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetFeatureOfInterestResponseSOAP.xml
+++ b/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetFeatureOfInterestResponseSOAP.xml
@@ -2,16 +2,17 @@
-<S:Envelope xmlns:S="http://www.w3.org/2003/05/soap-envelope">
-    <S:Body>
-        <ns16:getFeatureOfInterestResponse xmlns:ns3="http://www.opengis.net/sensorML/1.0" xmlns:ns4="http://www.opengis.net/gml" xmlns:ns5="http://www.w3.org/1999/xlink" xmlns:ns6="urn:us:gov:ic:ism:v2" xmlns:ns7="http://www.opengis.net/swe/1.0" xmlns:ns8="http://www.opengis.net/sos/1.0" xmlns:ns9="http://www.opengis.net/om/1.0" xmlns:ns10="http://www.opengis.net/swe/1.0.1" xmlns:ns11="http://www.opengis.net/sampling/1.0" xmlns:ns12="http://www.opengis.net/gml/" xmlns:ns13="http://www.opengis.net/sensorML/1.0.1" xmlns:ns14="http://www.opengis.net/ows/1.1" xmlns:ns15="http://www.opengis.net/ogc" xmlns:ns16="http://soap.ws.sos.constellation.org/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns11:SamplingPointType" ns4:id="sampling-point-001">
-            <ns4:name>sampling-point-001</ns4:name>
-            <ns4:boundedBy>
-                <ns4:Null>not_bounded</ns4:Null>
-            </ns4:boundedBy>
-            <ns11:sampledFeature ns5:href="sampling-point-001"/>
-            <ns11:position>
-                <ns4:Point ns4:id="pt-1">
-                    <ns4:pos srsName="EPSG:4326" srsDimension="2">0.0 0.0</ns4:pos>
-                </ns4:Point>
-            </ns11:position>
-        </ns16:getFeatureOfInterestResponse>
-    </S:Body>
-</S:Envelope>
+<env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope">
+    <env:Body>
+        <sampling:SamplingPoint xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gco="http://www.isotc211.org/2005/gco" xmlns:gmd="http://www.isotc211.org/2005/gmd" xmlns:gmi="http://www.isotc211.org/2005/gmi" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:gmx="http://www.isotc211.org/2005/gmx" xmlns:gts="http://www.isotc211.org/2005/gts" xmlns:icism="urn:us:gov:ic:ism:v2" xmlns:ns16="http://www.opengis.net/gml" xmlns:ns20="http://www.opengis.net/sos/2.0" xmlns:ns23="http://www.opengis.net/om/2.0" xmlns:ns24="http://www.opengis.net/sampling/2.0" xmlns:ns26="http://www.w3.org/2005/08/addressing" xmlns:ns27="http://www.opengis.net/swe/2.0" xmlns:ns28="http://docs.oasis-open.org/wsn/t-1" xmlns:ns29="http://www.opengis.net/gml/" xmlns:ogc="http://www.opengis.net/ogc" xmlns:om="http://www.opengis.net/om/1.0" xmlns:ows="http://www.opengis.net/ows/1.1" xmlns:sampling="http://www.opengis.net/sampling/1.0" xmlns:samplingspatial="http://www.opengis.net/samplingSpatial/2.0" xmlns:sml="http://www.opengis.net/sensorML/1.0.1" xmlns:sml1="http://www.opengis.net/sensorML/1.0" xmlns:sos="http://www.opengis.net/sos/1.0" xmlns:srv="http://www.isotc211.org/2005/srv" xmlns:swe="http://www.opengis.net/swe/1.0.1" xmlns:swe1="http://www.opengis.net/swe/1.0" xmlns:swes="http://www.opengis.net/swes/2.0" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ns16:id="station-001">
+            <ns16:description>Point d'eau BSSS</ns16:description>
+            <ns16:name>10972X0137-PONT</ns16:name>
+            <ns16:boundedBy>
+                <ns16:Null>not_bounded</ns16:Null>
+            </ns16:boundedBy>
+            <sampling:sampledFeature xlink:href="urn:-sandre:object:bdrhf:123X"/>
+            <sampling:position>
+                <ns16:Point ns16:id="pt-station-001">
+                    <ns16:pos srsDimension="2" srsName="urn:ogc:def:crs:epsg:7.9:27582">65400.0 1731368.0</ns16:pos>
+                </ns16:Point>
+            </sampling:position>
+        </sampling:SamplingPoint>
+    </env:Body>
+</env:Envelope>
diff --git a/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetFeatureOfInterestResponseSOAP2.xml b/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetFeatureOfInterestResponseSOAP2.xml
index 170449c..b996eee 100644
--- a/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetFeatureOfInterestResponseSOAP2.xml
+++ b/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetFeatureOfInterestResponseSOAP2.xml
@@ -2,26 +2,26 @@
-<S:Envelope xmlns:S="http://www.w3.org/2003/05/soap-envelope">
-    <S:Body>
-        <ns16:getFeatureOfInterestResponse xmlns:ns3="http://www.opengis.net/sensorML/1.0" xmlns:ns4="http://www.opengis.net/gml" xmlns:ns5="http://www.w3.org/1999/xlink" xmlns:ns6="urn:us:gov:ic:ism:v2" xmlns:ns7="http://www.opengis.net/swe/1.0" xmlns:ns8="http://www.opengis.net/sos/1.0" xmlns:ns9="http://www.opengis.net/om/1.0" xmlns:ns10="http://www.opengis.net/swe/1.0.1" xmlns:ns11="http://www.opengis.net/sampling/1.0" xmlns:ns12="http://www.opengis.net/gml/" xmlns:ns13="http://www.opengis.net/sensorML/1.0.1" xmlns:ns14="http://www.opengis.net/ows/1.1" xmlns:ns15="http://www.opengis.net/ogc" xmlns:ns16="http://soap.ws.sos.constellation.org/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns11:SamplingCurveType" ns4:id="station-003">
-            <ns4:description>Geology traverse</ns4:description>
-            <ns4:name>cycle1</ns4:name>
-            <ns4:boundedBy>
-                <ns4:Envelope srsName="urn:ogc:def:crs:epsg:7.9:27582" ns4:id="bound-1">
-                    <ns4:lowerCorner>-30.711 134.196</ns4:lowerCorner>
-                    <ns4:upperCorner>-30.702 134.205</ns4:upperCorner>
-                </ns4:Envelope>
-            </ns4:boundedBy>
-            <ns11:shape>
-                <ns4:LineString srsName="urn:ogc:def:crs:EPSG:27582" ns4:id="pr1_ls1">
-                    <ns4:pos>-30.711 134.205</ns4:pos>
-                    <ns4:pos>-30.71 134.204</ns4:pos>
-                    <ns4:pos>-30.709 134.203</ns4:pos>
-                    <ns4:pos>-30.708 134.201</ns4:pos>
-                    <ns4:pos>-30.706 134.196</ns4:pos>
-                    <ns4:pos>-30.703 134.197</ns4:pos>
-                    <ns4:pos>-30.702 134.199</ns4:pos>
-                </ns4:LineString>
-            </ns11:shape>
-            <ns11:length>NaN</ns11:length>
-        </ns16:getFeatureOfInterestResponse>
-    </S:Body>
-</S:Envelope>
+<env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope">
+    <env:Body>
+        <sampling:SamplingCurve xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gco="http://www.isotc211.org/2005/gco" xmlns:gmd="http://www.isotc211.org/2005/gmd" xmlns:gmi="http://www.isotc211.org/2005/gmi" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:gmx="http://www.isotc211.org/2005/gmx" xmlns:gts="http://www.isotc211.org/2005/gts" xmlns:icism="urn:us:gov:ic:ism:v2" xmlns:ns16="http://www.opengis.net/gml" xmlns:ns20="http://www.opengis.net/sos/2.0" xmlns:ns23="http://www.opengis.net/om/2.0" xmlns:ns24="http://www.opengis.net/sampling/2.0" xmlns:ns26="http://www.w3.org/2005/08/addressing" xmlns:ns27="http://www.opengis.net/swe/2.0" xmlns:ns28="http://docs.oasis-open.org/wsn/t-1" xmlns:ns29="http://www.opengis.net/gml/" xmlns:ogc="http://www.opengis.net/ogc" xmlns:om="http://www.opengis.net/om/1.0" xmlns:ows="http://www.opengis.net/ows/1.1" xmlns:sampling="http://www.opengis.net/sampling/1.0" xmlns:samplingspatial="http://www.opengis.net/samplingSpatial/2.0" xmlns:sml="http://www.opengis.net/sensorML/1.0.1" xmlns:sml1="http://www.opengis.net/sensorML/1.0" xmlns:sos="http://www.opengis.net/sos/1.0" xmlns:srv="http://www.isotc211.org/2005/srv" xmlns:swe="http://www.opengis.net/swe/1.0.1" xmlns:swe1="http://www.opengis.net/swe/1.0" xmlns:swes="http://www.opengis.net/swes/2.0" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ns16:id="station-006">
+            <ns16:description>Geology traverse</ns16:description>
+            <ns16:name>cycle1</ns16:name>
+            <ns16:boundedBy>
+                <ns16:Envelope ns16:id="bound-1" srsName="urn:ogc:def:crs:epsg:7.9:27582">
+                    <ns16:lowerCorner>-30.711 134.196</ns16:lowerCorner>
+                    <ns16:upperCorner>-30.702 134.205</ns16:upperCorner>
+                </ns16:Envelope>
+            </ns16:boundedBy>
+            <sampling:shape>
+                <ns16:LineString ns16:id="line-station-006" srsName="urn:ogc:def:crs:epsg:7.9:27582">
+                    <ns16:pos>-30.711 134.205</ns16:pos>
+                    <ns16:pos>-30.71 134.204</ns16:pos>
+                    <ns16:pos>-30.709 134.203</ns16:pos>
+                    <ns16:pos>-30.708 134.201</ns16:pos>
+                    <ns16:pos>-30.706 134.196</ns16:pos>
+                    <ns16:pos>-30.703 134.197</ns16:pos>
+                    <ns16:pos>-30.702 134.199</ns16:pos>
+                </ns16:LineString>
+            </sampling:shape>
+            <sampling:length>0.0</sampling:length>
+        </sampling:SamplingCurve>
+    </env:Body>
+</env:Envelope>
diff --git a/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetFeatureOfInterestSOAP.xml b/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetFeatureOfInterestSOAP.xml
index 9b2cec3..5ee2976 100644
--- a/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetFeatureOfInterestSOAP.xml
+++ b/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetFeatureOfInterestSOAP.xml
@@ -9 +9 @@
-                    <FeatureOfInterestId>sampling-point-001</FeatureOfInterestId>
+                    <FeatureOfInterestId>station-001</FeatureOfInterestId>
diff --git a/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetFeatureOfInterestSOAP2.xml b/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetFeatureOfInterestSOAP2.xml
index 4834126..0699e1b 100644
--- a/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetFeatureOfInterestSOAP2.xml
+++ b/modules/testing/data/src/main/resources/org/constellation/xml/sos/GetFeatureOfInterestSOAP2.xml
@@ -9 +9 @@
-                    <FeatureOfInterestId>station-003</FeatureOfInterestId>
+                    <FeatureOfInterestId>station-006</FeatureOfInterestId>
diff --git a/modules/testing/embedded/src/test/java/org/constellation/ws/embedded/SOSSoapRequestTest.java b/modules/testing/embedded/src/test/java/org/constellation/ws/embedded/SOSSoapRequestTest.java
index 5abc46b..3a7f3f9 100644
--- a/modules/testing/embedded/src/test/java/org/constellation/ws/embedded/SOSSoapRequestTest.java
+++ b/modules/testing/embedded/src/test/java/org/constellation/ws/embedded/SOSSoapRequestTest.java
@@ -33 +33 @@
-import org.geotoolkit.util.StringUtilities;
+import org.constellation.test.utils.CstlDOMComparator;
@@ -50,0 +51 @@
+import java.sql.Connection;
@@ -54,0 +56,2 @@
+import org.geotoolkit.internal.sql.DefaultDataSource;
+import org.geotoolkit.util.sql.DerbySqlScriptRunner;
@@ -74 +77 @@
-    private static final String SOS_DEFAULT = "http://localhost:9191/sos/default?";
+    private static final String SOS_DEFAULT = "http://localhost:9191/sos/default";
@@ -79,0 +83,2 @@
+    
+    private static DefaultDataSource ds = null;
@@ -98,0 +104,10 @@
+                String url = "jdbc:derby:memory:OM2Test1;create=true";
+                ds = new DefaultDataSource(url);
+
+                Connection con = ds.getConnection();
+
+                DerbySqlScriptRunner sr = new DerbySqlScriptRunner(con);
+                sr.setEncoding("UTF-8");
+                sr.run(Util.getResourceAsStream("org/constellation/om2/structure_observations.sql"));
+                sr.run(Util.getResourceAsStream("org/constellation/sql/sos-data-om2.sql"));
+        
@@ -100 +115 @@
-                final Automatic omCOnfig = new Automatic(null, new BDD("org.postgresql.Driver", "jdbc:postgresql://flupke.geomatys.com:5432/observation", "test", "test"));
+                final Automatic omCOnfig = new Automatic(null, new BDD("", url, "test", "test"));
@@ -102,3 +117,3 @@
-                sosconf.setObservationFilterType(DataSourceType.POSTGRID);
-                sosconf.setObservationReaderType(DataSourceType.POSTGRID);
-                sosconf.setObservationWriterType(DataSourceType.POSTGRID);
+                sosconf.setObservationFilterType(DataSourceType.OM2);
+                sosconf.setObservationReaderType(DataSourceType.OM2);
+                sosconf.setObservationWriterType(DataSourceType.OM2);
@@ -127,0 +143,3 @@
+        if (ds != null) {
+            ds.shutdown();
+        }
@@ -154,3 +172,3 @@
-        result = cleanXMlString(result);
-        expResult = cleanXMlString(expResult);
-        assertEquals(expResult, result);
+        // System.out.println("result:\n" + result);
+        
+        domCompare(result, expResult);
@@ -173,2 +191 @@
-        result = cleanXMlString(result);
-        expResult = cleanXMlString(expResult);
+        // System.out.println("result:\n" + result);
@@ -176,3 +193 @@
-        System.out.println("result:\n" + result);
-
-        assertEquals(expResult, result);
+        domCompare(expResult, result);
@@ -188,2 +203 @@
-        result = cleanXMlString(result);
-        expResult = cleanXMlString(expResult);
+        // System.out.println("result:\n" + result);
@@ -191,13 +205 @@
-        System.out.println("result:\n" + result);
-
-        assertEquals(expResult, result);
-    }
-
-    private static String cleanXMlString(String s) {
-        s = s.substring(s.indexOf('>') + 1);
-        s = StringUtilities.removeXmlns(s);
-        for (int i = 0; i< 17; i++) {
-            s = StringUtilities.removePrefix("ns" + i);
-        }
-
-        return s;
+        domCompare(result, expResult);
@@ -226,0 +229,8 @@
+    
+     public static void domCompare(final Object actual, final Object expected) throws Exception {
+
+        final CstlDOMComparator comparator = new CstlDOMComparator(expected, actual);
+        comparator.ignoredAttributes.add("http://www.w3.org/2000/xmlns:*");
+        comparator.ignoredAttributes.add("updateSequence");
+        comparator.compare();
+    }
diff --git a/modules/web-services/wfs/src/test/java/org/constellation/test/CstlDomComparatorTest.java b/modules/web-services/wfs/src/test/java/org/constellation/test/CstlDomComparatorTest.java
index 1bdecad..2d02b33 100644
--- a/modules/web-services/wfs/src/test/java/org/constellation/test/CstlDomComparatorTest.java
+++ b/modules/web-services/wfs/src/test/java/org/constellation/test/CstlDomComparatorTest.java
@@ -20,0 +21 @@
+import org.constellation.test.utils.CstlDOMComparator;
diff --git a/modules/web-services/wfs/src/test/java/org/constellation/wfs/WFS2WorkerTest.java b/modules/web-services/wfs/src/test/java/org/constellation/wfs/WFS2WorkerTest.java
index 5d4acd9..4e7c717 100644
--- a/modules/web-services/wfs/src/test/java/org/constellation/wfs/WFS2WorkerTest.java
+++ b/modules/web-services/wfs/src/test/java/org/constellation/wfs/WFS2WorkerTest.java
@@ -34 +34 @@
-import org.constellation.test.CstlDOMComparator;
+import org.constellation.test.utils.CstlDOMComparator;
diff --git a/modules/web-services/wfs/src/test/java/org/constellation/wfs/WFSWorkerTest.java b/modules/web-services/wfs/src/test/java/org/constellation/wfs/WFSWorkerTest.java
index 174addc..f04c404 100644
--- a/modules/web-services/wfs/src/test/java/org/constellation/wfs/WFSWorkerTest.java
+++ b/modules/web-services/wfs/src/test/java/org/constellation/wfs/WFSWorkerTest.java
@@ -33 +33 @@
-import org.constellation.test.CstlDOMComparator;
+import org.constellation.test.utils.CstlDOMComparator;
diff --git a/modules/web-services/wfs/src/test/java/org/constellation/ws/embedded/WFSRequestTest.java b/modules/web-services/wfs/src/test/java/org/constellation/ws/embedded/WFSRequestTest.java
index d988316..e06b270 100644
--- a/modules/web-services/wfs/src/test/java/org/constellation/ws/embedded/WFSRequestTest.java
+++ b/modules/web-services/wfs/src/test/java/org/constellation/ws/embedded/WFSRequestTest.java
@@ -33 +33 @@
-import org.constellation.test.CstlDOMComparator;
+import org.constellation.test.utils.CstlDOMComparator;

