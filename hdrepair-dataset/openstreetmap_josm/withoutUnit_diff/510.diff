diff --git a/src/org/openstreetmap/josm/gui/history/VersionTableCellRenderer.java b/src/org/openstreetmap/josm/gui/history/VersionTableCellRenderer.java
index 0d01791..0e4c2ba 100644
--- a/src/org/openstreetmap/josm/gui/history/VersionTableCellRenderer.java
+++ b/src/org/openstreetmap/josm/gui/history/VersionTableCellRenderer.java
@@ -137 +137 @@
-        renderIcon(primitive.getType());
+        renderIcon(primitive == null? null : primitive.getType());

