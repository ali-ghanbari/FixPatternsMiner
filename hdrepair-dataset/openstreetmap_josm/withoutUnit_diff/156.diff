diff --git a/src/org/openstreetmap/josm/gui/preferences/PreferenceTabbedPane.java b/src/org/openstreetmap/josm/gui/preferences/PreferenceTabbedPane.java
index e38581e..337528f 100644
--- a/src/org/openstreetmap/josm/gui/preferences/PreferenceTabbedPane.java
+++ b/src/org/openstreetmap/josm/gui/preferences/PreferenceTabbedPane.java
@@ -203 +203 @@
-                return tps != null && tps.getIconName().equals(name);
+                return name != null && tps != null && tps.getIconName() != null && tps.getIconName().equals(name);

