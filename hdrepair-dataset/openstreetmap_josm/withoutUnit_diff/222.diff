diff --git a/src/org/openstreetmap/josm/gui/dialogs/ToggleDialog.java b/src/org/openstreetmap/josm/gui/dialogs/ToggleDialog.java
index 978094d..2eac64a 100644
--- a/src/org/openstreetmap/josm/gui/dialogs/ToggleDialog.java
+++ b/src/org/openstreetmap/josm/gui/dialogs/ToggleDialog.java
@@ -767 +767 @@
-        if (buttons != null && buttons.length > 0 && !buttons[0].isEmpty()) {
+        if (buttons != null && buttons.length > 0 && buttons[0] != null && !buttons[0].isEmpty()) {

