diff --git a/src/org/openstreetmap/josm/data/osm/visitor/MapPaintVisitor.java b/src/org/openstreetmap/josm/data/osm/visitor/MapPaintVisitor.java
index 54bc390..6446b34 100644
--- a/src/org/openstreetmap/josm/data/osm/visitor/MapPaintVisitor.java
+++ b/src/org/openstreetmap/josm/data/osm/visitor/MapPaintVisitor.java
@@ -406 +406 @@
-		if (screen.contains(x,y)) {
+		if ((screen != null) && screen.contains(x,y)) {

