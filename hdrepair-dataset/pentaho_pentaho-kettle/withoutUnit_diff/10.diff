diff --git a/engine/src/org/pentaho/di/trans/steps/textfileinput/TextFileInput.java b/engine/src/org/pentaho/di/trans/steps/textfileinput/TextFileInput.java
index 46b5f19..83ef940 100644
--- a/engine/src/org/pentaho/di/trans/steps/textfileinput/TextFileInput.java
+++ b/engine/src/org/pentaho/di/trans/steps/textfileinput/TextFileInput.java
@@ -1505 +1505 @@
-      Map<String, ResultFile> resultFiles = previousResult.getResultFiles();
+      Map<String, ResultFile> resultFiles = ( previousResult != null ) ? previousResult.getResultFiles() : null;

