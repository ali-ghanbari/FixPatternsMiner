Fix critical filter bug: We were filtering and then discarding the output and returning the unfiltered data! This was introduced in f522abd16543fb2377aa7dcbd66ff3920fa219e9 by sajack. I was chasing an apparently unrelated bug; I'm trying not to do spencer's work for him. Anyway it's a one line fix. :)

