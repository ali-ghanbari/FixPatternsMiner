diff --git a/src/freenet/client/async/SplitFileInserter.java b/src/freenet/client/async/SplitFileInserter.java
index e8e90a4..a1d52b9 100644
--- a/src/freenet/client/async/SplitFileInserter.java
+++ b/src/freenet/client/async/SplitFileInserter.java
@@ -530,0 +531 @@
+				if(persistent) container.activate(compressionCodec, Integer.MAX_VALUE);

