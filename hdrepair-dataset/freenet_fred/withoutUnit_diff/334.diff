diff --git a/src/freenet/client/async/SplitFileFetcher.java b/src/freenet/client/async/SplitFileFetcher.java
index 04c0f13..defc260 100644
--- a/src/freenet/client/async/SplitFileFetcher.java
+++ b/src/freenet/client/async/SplitFileFetcher.java
@@ -283 +283 @@
-				(splitfileDataBlocks.length % blocksPerSegment == 0 ? 0 : 1);
+				(splitfileDataBlocks.length % (blocksPerSegment + crossCheckBlocks) == 0 ? 0 : 1);

