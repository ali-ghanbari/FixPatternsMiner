diff --git a/src/main/java/org/mvel2/ast/ASTNode.java b/src/main/java/org/mvel2/ast/ASTNode.java
index edac505..9e9f2c0 100644
--- a/src/main/java/org/mvel2/ast/ASTNode.java
+++ b/src/main/java/org/mvel2/ast/ASTNode.java
@@ -198 +198 @@
-        if ((fields & (COLLECTION | DEEP_PROPERTY)) != 0) {
+        if (firstUnion > 0) {

