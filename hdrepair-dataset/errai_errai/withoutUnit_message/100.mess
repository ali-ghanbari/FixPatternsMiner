small fix so that CDI.fireEvent returns after scheduling deferred
events. otherwise, events will be fired twice.
