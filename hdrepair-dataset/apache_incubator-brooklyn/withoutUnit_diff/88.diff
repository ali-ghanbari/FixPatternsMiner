diff --git a/utils/common/src/main/java/brooklyn/util/net/Urls.java b/utils/common/src/main/java/brooklyn/util/net/Urls.java
index 0a8740e..e3740e9 100644
--- a/utils/common/src/main/java/brooklyn/util/net/Urls.java
+++ b/utils/common/src/main/java/brooklyn/util/net/Urls.java
@@ -98 +98 @@
-                while (result.charAt(i)=='/')
+                while (result.length()>i && result.charAt(i)=='/')

