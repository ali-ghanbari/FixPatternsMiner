diff --git a/java/compiler/impl/src/com/intellij/compiler/impl/TranslatingCompilerFilesMonitor.java b/java/compiler/impl/src/com/intellij/compiler/impl/TranslatingCompilerFilesMonitor.java
index e315b88..18e7363 100644
--- a/java/compiler/impl/src/com/intellij/compiler/impl/TranslatingCompilerFilesMonitor.java
+++ b/java/compiler/impl/src/com/intellij/compiler/impl/TranslatingCompilerFilesMonitor.java
@@ -952 +952 @@
-      StartupManager.getInstance(project).registerPostStartupActivity(new Runnable() {
+      StartupManager.getInstance(project).runWhenProjectIsInitialized(new Runnable() {

