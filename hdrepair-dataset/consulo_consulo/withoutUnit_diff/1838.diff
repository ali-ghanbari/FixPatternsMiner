diff --git a/platform-impl/src/com/intellij/openapi/components/impl/stores/StateStorageManagerImpl.java b/platform-impl/src/com/intellij/openapi/components/impl/stores/StateStorageManagerImpl.java
index 43b30cf..abf1f15 100644
--- a/platform-impl/src/com/intellij/openapi/components/impl/stores/StateStorageManagerImpl.java
+++ b/platform-impl/src/com/intellij/openapi/components/impl/stores/StateStorageManagerImpl.java
@@ -553 +553 @@
-      new File(filePath).mkdirs();
+      new File(filePath).getParentFile().mkdirs();

