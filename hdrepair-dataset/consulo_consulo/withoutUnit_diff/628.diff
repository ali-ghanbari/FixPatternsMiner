diff --git a/platform/platform-api/src/com/intellij/ui/MouseDragHelper.java b/platform/platform-api/src/com/intellij/ui/MouseDragHelper.java
index 0d8a3aa..bb0ccb0 100644
--- a/platform/platform-api/src/com/intellij/ui/MouseDragHelper.java
+++ b/platform/platform-api/src/com/intellij/ui/MouseDragHelper.java
@@ -258 +258 @@
-    if (e.getKeyCode() == KeyEvent.VK_ESCAPE && e.getID() == KeyEvent.KEY_PRESSED) {
+    if (e.getKeyCode() == KeyEvent.VK_ESCAPE && e.getID() == KeyEvent.KEY_PRESSED && myDraggingNow) {

