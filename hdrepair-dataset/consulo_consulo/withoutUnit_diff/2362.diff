diff --git a/source/com/intellij/openapi/fileChooser/ex/FileChooserDialogImpl.java b/source/com/intellij/openapi/fileChooser/ex/FileChooserDialogImpl.java
index 474524b..f5d1a24 100644
--- a/source/com/intellij/openapi/fileChooser/ex/FileChooserDialogImpl.java
+++ b/source/com/intellij/openapi/fileChooser/ex/FileChooserDialogImpl.java
@@ -325 +325 @@
-          if (file != null) {
+          if (file != null && file.isDirectory()) {

