diff --git a/refactoring/impl/com/intellij/refactoring/move/moveFilesOrDirectories/MoveFilesOrDirectoriesUtil.java b/refactoring/impl/com/intellij/refactoring/move/moveFilesOrDirectories/MoveFilesOrDirectoriesUtil.java
index 469a278..d25bd38 100644
--- a/refactoring/impl/com/intellij/refactoring/move/moveFilesOrDirectories/MoveFilesOrDirectoriesUtil.java
+++ b/refactoring/impl/com/intellij/refactoring/move/moveFilesOrDirectories/MoveFilesOrDirectoriesUtil.java
@@ -63 +63 @@
-    if ( targetDirectory == null ) return;
+    if ( initialTargetElement != null && targetDirectory == null ) return;

