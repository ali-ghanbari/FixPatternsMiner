diff --git a/source/com/intellij/psi/impl/JavaPsiFacadeImpl.java b/source/com/intellij/psi/impl/JavaPsiFacadeImpl.java
index 62f2c5d..0271c63 100644
--- a/source/com/intellij/psi/impl/JavaPsiFacadeImpl.java
+++ b/source/com/intellij/psi/impl/JavaPsiFacadeImpl.java
@@ -325,0 +326 @@
+      packagesMap.remove(qualifiedName);    // avoid SOE caused by returning a package as a subpackage of itself

