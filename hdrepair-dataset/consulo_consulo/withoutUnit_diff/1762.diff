diff --git a/lang-impl/src/com/intellij/openapi/projectRoots/impl/SdkConfigurationUtil.java b/lang-impl/src/com/intellij/openapi/projectRoots/impl/SdkConfigurationUtil.java
index 885f2c5..e6a3447 100644
--- a/lang-impl/src/com/intellij/openapi/projectRoots/impl/SdkConfigurationUtil.java
+++ b/lang-impl/src/com/intellij/openapi/projectRoots/impl/SdkConfigurationUtil.java
@@ -69 +69 @@
-        String message = files[0].isDirectory()
+        String message = files.length > 0 && files[0].isDirectory()

