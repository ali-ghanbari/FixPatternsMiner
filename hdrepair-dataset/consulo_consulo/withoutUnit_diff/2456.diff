diff --git a/codeInsight/impl/com/intellij/codeInsight/hint/ImplementationViewComponent.java b/codeInsight/impl/com/intellij/codeInsight/hint/ImplementationViewComponent.java
index ed6c99d..f9d9b41 100644
--- a/codeInsight/impl/com/intellij/codeInsight/hint/ImplementationViewComponent.java
+++ b/codeInsight/impl/com/intellij/codeInsight/hint/ImplementationViewComponent.java
@@ -285 +285 @@
-    final int lineEnd = end < doc.getTextLength() ?doc.getLineEndOffset(doc.getLineNumber(end)):0;
+    final int lineEnd = end < doc.getTextLength() ? doc.getLineEndOffset(doc.getLineNumber(end)) : end;

