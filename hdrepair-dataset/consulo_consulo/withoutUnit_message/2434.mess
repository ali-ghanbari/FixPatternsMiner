bug fix for delayed commit

