fixed completion in multi-language files and added test for PY-1869

