diff --git a/engine/src/main/java/org/camunda/bpm/engine/impl/history/parser/HistoryParseListener.java b/engine/src/main/java/org/camunda/bpm/engine/impl/history/parser/HistoryParseListener.java
index 6500dbb..633449a 100644
--- a/engine/src/main/java/org/camunda/bpm/engine/impl/history/parser/HistoryParseListener.java
+++ b/engine/src/main/java/org/camunda/bpm/engine/impl/history/parser/HistoryParseListener.java
@@ -190,0 +191 @@
+    addActivityHandlers(activity);
diff --git a/engine/src/test/java/org/camunda/bpm/engine/test/history/HistoricActivityInstanceTest.java b/engine/src/test/java/org/camunda/bpm/engine/test/history/HistoricActivityInstanceTest.java
index 957740b..65192ee 100644
--- a/engine/src/test/java/org/camunda/bpm/engine/test/history/HistoricActivityInstanceTest.java
+++ b/engine/src/test/java/org/camunda/bpm/engine/test/history/HistoricActivityInstanceTest.java
@@ -637,0 +638,16 @@
+  @Deployment(resources="org/camunda/bpm/engine/test/history/HistoricActivityInstanceTest.testBoundaryCancelEvent.bpmn20.xml")
+  public void testTransaction() {
+    ProcessInstance pi = runtimeService.startProcessInstanceByKey("process");
+
+    HistoricActivityInstanceQuery query = historyService.createHistoricActivityInstanceQuery();
+
+    query.activityId("transaction");
+    assertEquals(1, query.count());
+    assertNotNull(query.singleResult().getEndTime());
+
+    Task task = taskService.createTaskQuery().singleResult();
+    taskService.complete(task.getId());
+
+    assertProcessEnded(pi.getId());
+  }
+

