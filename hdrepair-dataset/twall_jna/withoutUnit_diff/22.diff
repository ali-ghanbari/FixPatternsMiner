diff --git a/jnalib/src/com/sun/jna/Function.java b/jnalib/src/com/sun/jna/Function.java
index 03ad1f8..a328f0a 100644
--- a/jnalib/src/com/sun/jna/Function.java
+++ b/jnalib/src/com/sun/jna/Function.java
@@ -766 +766 @@
-        return callFlags + options.hashCode() + peer.hashCode();
+        return callFlags + options.hashCode() + super.hashCode();

