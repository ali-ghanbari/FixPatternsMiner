QueryConstruct: fix subtle consumer tracking bug

HashMultimap does not keep duplicates. Use ArrayListMultimap instead or
we will not find duplicate consumers in the same fragment.

