NXCM-3642: added JD's UT + bugfix

