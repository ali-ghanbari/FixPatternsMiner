diff --git a/org.aspectj.ajdt.core/src/org/aspectj/ajdt/internal/compiler/ast/AspectDeclaration.java b/org.aspectj.ajdt.core/src/org/aspectj/ajdt/internal/compiler/ast/AspectDeclaration.java
index 1f9868a..9c683d7 100644
--- a/org.aspectj.ajdt.core/src/org/aspectj/ajdt/internal/compiler/ast/AspectDeclaration.java
+++ b/org.aspectj.ajdt.core/src/org/aspectj/ajdt/internal/compiler/ast/AspectDeclaration.java
@@ -982 +982 @@
-	        	if (sourceSc.scope.referenceContext instanceof AspectDeclaration) {
+	        	if (sourceSc.scope != null && sourceSc.scope.referenceContext instanceof AspectDeclaration) {

