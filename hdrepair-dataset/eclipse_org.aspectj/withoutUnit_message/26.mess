148508, 265418: tests and fixes: array and varargs subtype patterns

