bug 6800: introducing a vm error state and fixing a couple of bugs introduced by the new networking model and around vm destroy

