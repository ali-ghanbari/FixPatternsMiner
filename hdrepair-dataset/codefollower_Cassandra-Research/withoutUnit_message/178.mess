fix bit arithmetic to rebuild timestamp; see #2858

