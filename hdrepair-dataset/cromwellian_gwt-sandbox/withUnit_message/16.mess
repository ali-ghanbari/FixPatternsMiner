Patch fixes issue 3057 and adds test cases for it. 

Patch by: amitmanjhi
Review by: scottb



git-svn-id: https://google-web-toolkit.googlecode.com/svn/trunk@5366 8db76d5a-ed1c-0410-87a9-c151d255dfc7

