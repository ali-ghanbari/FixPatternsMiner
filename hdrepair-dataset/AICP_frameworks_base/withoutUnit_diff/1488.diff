diff --git a/core/java/android/view/ViewRoot.java b/core/java/android/view/ViewRoot.java
index ed2139d..47b976b 100644
--- a/core/java/android/view/ViewRoot.java
+++ b/core/java/android/view/ViewRoot.java
@@ -1411,2 +1411,2 @@
-            // line checks whether the view is still in the hierarchy
-            if (focus == null || focus.getParent() == null) {
+            // line checks whether the view is still in our hierarchy.
+            if (focus == null || focus.mAttachInfo != mAttachInfo) {

