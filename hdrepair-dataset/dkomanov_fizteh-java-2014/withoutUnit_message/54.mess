tested and fixed minor bags

