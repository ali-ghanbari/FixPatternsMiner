Make transaction end synchronized in an attempt to fix rare concurrency errors with Arjuna

