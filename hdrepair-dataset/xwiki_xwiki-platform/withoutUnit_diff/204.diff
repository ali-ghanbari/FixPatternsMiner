diff --git a/xwiki-core/src/main/java/com/xpn/xwiki/store/XWikiHibernateStore.java b/xwiki-core/src/main/java/com/xpn/xwiki/store/XWikiHibernateStore.java
index 0ba3317..6d6e629 100644
--- a/xwiki-core/src/main/java/com/xpn/xwiki/store/XWikiHibernateStore.java
+++ b/xwiki-core/src/main/java/com/xpn/xwiki/store/XWikiHibernateStore.java
@@ -378,0 +379,2 @@
+                // Store this XWikiClass in the context so that we can use it in case of recursive usage of classes
+                context.addBaseClass(bclass);

