diff --git a/build.properties.xml b/build.properties.xml
index 86584a7..fc955b0 100644
--- a/build.properties.xml
+++ b/build.properties.xml
@@ -23 +23 @@
-            <version>3.0.0</version>
+            <version>3.1.0</version>
@@ -60 +60 @@
-            <version>3.0.0</version>
+            <version>3.1.0</version>
diff --git a/src/main/resources/scripts/betterform/FluxProcessor.js b/src/main/resources/scripts/betterform/FluxProcessor.js
index 47698ce..5e23d96 100644
--- a/src/main/resources/scripts/betterform/FluxProcessor.js
+++ b/src/main/resources/scripts/betterform/FluxProcessor.js
@@ -843 +843,2 @@
-                dojo.byId(xfControlId).focus();
+//                dojo.byId(xfControlId).focus();
+                dijit.byId(xfControlId).handleOnFocus();
diff --git a/src/main/xforms/test/TableRepeat.xhtml b/src/main/xforms/test/TableRepeat.xhtml
new file mode 100644
index 0000000..a3035a3
--- /dev/null
+++ b/src/main/xforms/test/TableRepeat.xhtml
@@ -0,0 +1,126 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+  ~ Copyright (c) 2010. betterForm Project - http://www.betterform.de
+  ~ Licensed under the terms of BSD License
+  -->
+<html xmlns="http://www.w3.org/1999/xhtml"
+	  xmlns:xf="http://www.w3.org/2002/xforms"
+	  xmlns:ev="http://www.w3.org/2001/xml-events">
+	<head>
+		<title>TableRepeat</title>
+	</head>
+	<body>
+		<div id="xforms">
+			<div style="display:none">
+				<xf:model>
+
+					<xf:instance>
+						<data xmlns="">
+							<items>
+								<item1>1</item1>
+								<item2>2</item2>
+								<item3>3</item3>
+								<item4>4</item4>
+								<item5>5</item5>
+							</items>
+							<items>
+								<item1>1</item1>
+								<item2>2</item2>
+								<item3>3</item3>
+								<item4>4</item4>
+								<item5>5</item5>
+							</items>
+							<items>
+								<item1>1</item1>
+								<item2>2</item2>
+								<item3>3</item3>
+								<item4>4</item4>
+								<item5>5</item5>
+							</items>
+						</data>
+					</xf:instance>
+
+					<!--<xf:instance id="template">
+						<data xmlns="">
+							<items>
+								<item1>1</item1>
+								<item2>2</item2>
+								<item3>3</item3>
+								<item4>4</item4>
+								<item5>5</item5>
+							</items>
+						</data>
+					</xf:instance>-->
+
+					<xf:instance id="labels">
+						<data xmlns="">
+							<item1>11</item1>
+							<item2>22</item2>
+							<item3>33</item3>
+							<item4>44</item4>
+							<item5>55</item5>
+						</data>
+					</xf:instance>
+
+				</xf:model>
+			</div>
+
+			<xf:repeat nodeset="items">
+				<xf:output ref="item1">
+					<xf:label>item 1</xf:label>
+				</xf:output>
+				<xf:output ref="item2">
+					<xf:label>item 2</xf:label>
+				</xf:output>
+				<xf:output ref="item3">
+					<xf:label>item 3</xf:label>
+				</xf:output>	
+			</xf:repeat>
+
+<!--
+			<xf:repeat nodeset="items">
+				<xf:output ref="item1">
+					<xf:label>item 1</xf:label>
+				</xf:output>
+				<xf:output ref="item2">
+					<xf:label>item 2</xf:label>
+				</xf:output>
+				<xf:output ref="item3">
+					<xf:label>item 3</xf:label>
+				</xf:output>
+			</xf:repeat>
+-->
+
+			<table>
+				<thead>
+					<tr>
+						<th>
+							<xf:output ref="instance('labels')/item1"/>
+						</th>
+						<th>
+							<xf:output ref="instance('labels')/item2"/>
+						</th>
+					</tr>
+				</thead>
+				<tbody id="r-attrs" xf:repeat-nodeset="items">
+					<tr>
+						<td id="foo" class="one" style="color:red;">
+							<xf:output ref="item1"/>
+						</td>
+						<td class="two" style="color:blue;">
+							<xf:output ref="item2"/>
+						</td>
+					</tr>
+				</tbody>
+
+			</table>
+
+			<xf:trigger>
+				<xf:label>insert</xf:label>
+				<xf:action>
+					<xf:insert nodeset="items" />
+				</xf:action>
+			</xf:trigger>
+		</div>
+	</body>
+</html>
diff --git a/tools/exist/build.xml b/tools/exist/build.xml
index c7a9a1a..10c17df 100644
--- a/tools/exist/build.xml
+++ b/tools/exist/build.xml
@@ -41,0 +42,3 @@
+        <copy todir="${webapp.dir}/WEB-INF/">
+            <fileset file="${target.dir}/betterform-config.xml"/>
+        </copy>
diff --git a/tools/installer/build.xml b/tools/installer/build.xml
index cf70ae6..3333b76 100644
--- a/tools/installer/build.xml
+++ b/tools/installer/build.xml
@@ -51 +51 @@
-         <mkdir dir="${basedir}/target/bf-eXist/"/>
+        <mkdir dir="${basedir}/target/bf-eXist/"/>
@@ -80 +79,0 @@
-        <ant dir="${basedir}/target/bf-eXist/extensions/betterform/" target="install"/>
@@ -81,0 +81,2 @@
+        <ant dir="${basedir}/target/bf-eXist/extensions/betterform/" target="install"/>
+        <!--
@@ -82,0 +84,5 @@
+        -->
+
+         <copy todir="${basedir}/target/bf-eXist/extensions/betterform/target" includeemptydirs="true" overwrite="true">
+            <fileset file="${basedir}/../exist/target/xrx.zip"/>
+        </copy>
@@ -84,0 +91 @@
+
@@ -90,2 +97 @@
-
-        <sleep seconds="20"/>
+        <sleep seconds="60"/>
@@ -95 +101,5 @@
-        <sleep seconds="20"/>
+        <sleep seconds="10"/>
+        
+        <ant dir="${basedir}/target/bf-eXist/extensions/betterform/" target="install-xrx"/>
+
+        <sleep seconds="10"/>
diff --git a/tools/installer/installer.xml b/tools/installer/installer.xml
index f8ef429..f77e3d4 100644
--- a/tools/installer/installer.xml
+++ b/tools/installer/installer.xml
@@ -16 +16 @@
-        <appversion>3.0</appversion>
+        <appversion>3.1</appversion>
@@ -19 +19,2 @@
-        <webdir>http://localhost:8080/packs</webdir>
+        <!--<webdir>http://localhost:8080/packs</webdir>-->
+        <webdir>http://www.betterform.de/packs</webdir>
@@ -148,2 +149,2 @@
-        <pack name="betterFORM" id="betterForm" required="no" preselected="no" condition="bf-install">
-            <description>betterFORM 3.0 XForms Engine</description>
+        <pack name="betterFORM WAR" id="betterForm" required="no" preselected="no" condition="bf-install">
+            <description>betterFORM 3.0 XForms Engine packaged as WAR</description>
@@ -161,2 +162,2 @@
-        <pack id="jetty" name="Jetty" required="no" preselected="no" condition="jetty-install">
-            <description>Jetty Servlet Container Ver. 6.1.22</description>
+        <pack id="jetty" name="betterFORM standalone" required="no" preselected="no" condition="jetty-install">
+            <description>betterFORM standalone running on jetty webcontainer</description>
@@ -175,2 +176,2 @@
-        <pack name="betterFORM-eXist-bundle" id="betterFORM-eXist-bundle" required="no" preselected="yes" condition="exist-install">
-            <description>betterFORM bundled as extension for eXist XML DB</description>
+        <pack name="betterFORM XRX" id="betterFORM-eXist-bundle" required="no" preselected="yes" condition="exist-install">
+            <description>betterFORM and eXist bundled</description>
@@ -209 +210 @@
-            <description>adds uncompiled Dojo for full debug capabilities</description>
+            <description>adds uncompressed Dojo for full debug capabilities</description>
@@ -241 +242 @@
-            <description>betterForm's demo, reference and test forms</description>
+            <description>betterFORM demos, reference and test forms</description>
diff --git a/tools/installer/resource/readme.html b/tools/installer/resource/readme.html
index 839b53d..029411b 100644
--- a/tools/installer/resource/readme.html
+++ b/tools/installer/resource/readme.html
@@ -17 +17 @@
-		<p>For a quick install choose the components <strong>jetty</strong> and <strong>Forms</strong> and follow the install instructions. After installation finishs step into the install directory and execute <strong>betterform.jar</strong></p>
+		<p>For a quick install choose the components <strong>betterFORM standalone</strong> and <strong>Forms</strong> and follow the install instructions. After installation finishs step into the install directory and execute <strong>betterform.jar</strong></p>
@@ -21 +21 @@
-		<div style="font-size:large;font-weight:bold;">betterFORM</div>
+		<div style="font-size:large;font-weight:bold;">betterFORM WAR</div>
@@ -26,2 +26,7 @@
-		<div style="font-size:large;font-weight:bold;">Jetty</div>
-		<p>The Jetty component installs an embeded Apache Jetty server betterFORM runs in. After installation switch to the choosen install directory and execute betterform.jar to start the server</p>
+		<div style="font-size:large;font-weight:bold;">betterFORM standalone</div>
+		<p>The betterFORM standalone component installs an embeded Apache Jetty server betterFORM runs in. After installation switch to the choosen install directory and execute betterform.jar to start the server</p>
+		<br>
+		<br>
+
+		<div style="font-size:large;font-weight:bold;">betterFORM XRX</div>
+		<p>The betterFORM XRX component installs betterForm and eXist as a ready to go XRX platform. After installation switch to the choosen install directory and execute startup.sh/startup.bat from the bin directory</p>
diff --git a/tools/installer/resource/welcome.html b/tools/installer/resource/welcome.html
index 0817186..6c0d89b 100644
--- a/tools/installer/resource/welcome.html
+++ b/tools/installer/resource/welcome.html
@@ -8,2 +8,2 @@
-			<div style="text-align:center;position:relative;float:left;">Welcome to the installation of <br>betterFORM 3.0!
-				<sub style="font-size:small;font-style:italic;left:-60px;position:relative;top:10px;">lightSteelBlue</sub>
+			<div style="text-align:center;position:relative;float:left;">Welcome to the installation of <br>betterFORM 3.1!
+				<sub style="font-size:small;font-style:italic;left:-60px;position:relative;top:10px;">lightSteelBlue XRX</sub>
@@ -27,0 +28 @@
+			<li>XForms Rest XQuery support</li>
diff --git a/web/src/main/java/de/betterform/agent/web/event/EventQueue.java b/web/src/main/java/de/betterform/agent/web/event/EventQueue.java
index 97d3083..a0eda8c 100644
--- a/web/src/main/java/de/betterform/agent/web/event/EventQueue.java
+++ b/web/src/main/java/de/betterform/agent/web/event/EventQueue.java
@@ -139 +139 @@
-            if(xmlEvent.getType().equals    (BetterFormEventNames.PROTOTYPE_CLONED)){
+            if(xmlEvent.getType().equals(BetterFormEventNames.PROTOTYPE_CLONED)){

