diff --git a/bundles/plugins/org.bonitasoft.studio.diagram.custom/src/org/bonitasoft/studio/diagram/custom/repository/DiagramFileStore.java b/bundles/plugins/org.bonitasoft.studio.diagram.custom/src/org/bonitasoft/studio/diagram/custom/repository/DiagramFileStore.java
index 6909893..29891bf 100644
--- a/bundles/plugins/org.bonitasoft.studio.diagram.custom/src/org/bonitasoft/studio/diagram/custom/repository/DiagramFileStore.java
+++ b/bundles/plugins/org.bonitasoft.studio.diagram.custom/src/org/bonitasoft/studio/diagram/custom/repository/DiagramFileStore.java
@@ -94 +94 @@
-				if(resolveSemanticElement != null){
+				if(resolveSemanticElement != null && resolveSemanticElement.eResource() != null){

