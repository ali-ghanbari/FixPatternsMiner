fix incompatibility between async and sync return types

