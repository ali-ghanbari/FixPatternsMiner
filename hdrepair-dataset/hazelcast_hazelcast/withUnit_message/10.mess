Merge pull request #4629 from gurbuzali/andThen-fix-master

added a check before running execution-callback
