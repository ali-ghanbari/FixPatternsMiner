diff --git a/hazelcast/src/main/java/com/hazelcast/replicatedmap/impl/record/AbstractBaseReplicatedRecordStore.java b/hazelcast/src/main/java/com/hazelcast/replicatedmap/impl/record/AbstractBaseReplicatedRecordStore.java
index d2879b7..7330e9d 100644
--- a/hazelcast/src/main/java/com/hazelcast/replicatedmap/impl/record/AbstractBaseReplicatedRecordStore.java
+++ b/hazelcast/src/main/java/com/hazelcast/replicatedmap/impl/record/AbstractBaseReplicatedRecordStore.java
@@ -195 +195 @@
-                boolean publish = filter == null || filter.eval(key);
+                boolean publish = filter == null || filter.eval(marshallKey(key));
diff --git a/hazelcast/src/test/java/com/hazelcast/replicatedmap/ReplicatedMapTest.java b/hazelcast/src/test/java/com/hazelcast/replicatedmap/ReplicatedMapTest.java
index bb969b0..0e1a7d1 100644
--- a/hazelcast/src/test/java/com/hazelcast/replicatedmap/ReplicatedMapTest.java
+++ b/hazelcast/src/test/java/com/hazelcast/replicatedmap/ReplicatedMapTest.java
@@ -1080,0 +1081,3 @@
+        SimpleEntryListener listener = new SimpleEntryListener(1, 0);
+        map2.addEntryListener(listener, "foo-18");
+
@@ -1090,11 +1093 @@
-        }, 60, EntryEventType.ADDED, operations, 0.75, map1, map2);
-
-        SimpleEntryListener listener = new SimpleEntryListener(1, 0);
-        map2.addEntryListener(listener, "foo-18");
-
-        executor.execute(new Runnable() {
-            @Override
-            public void run() {
-                map1.put("foo-18", "barUpdated");
-            }
-        }, 60, EntryEventType.UPDATED, map1, map2);
+        }, 60, EntryEventType.ADDED, operations, 1, map1, map2);
@@ -1103 +1095,0 @@
-        assertEquals("barUpdated", map2.get("foo-18"));
@@ -1175 +1167 @@
-        public void entryUpdated(EntryEvent event) {
+        public void entryAdded(EntryEvent event) {

