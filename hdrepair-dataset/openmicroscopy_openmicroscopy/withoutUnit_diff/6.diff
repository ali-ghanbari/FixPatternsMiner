diff --git a/components/insight/SRC/org/openmicroscopy/shoola/env/data/DataServicesFactory.java b/components/insight/SRC/org/openmicroscopy/shoola/env/data/DataServicesFactory.java
index ca26cc0..7c2dfd8 100644
--- a/components/insight/SRC/org/openmicroscopy/shoola/env/data/DataServicesFactory.java
+++ b/components/insight/SRC/org/openmicroscopy/shoola/env/data/DataServicesFactory.java
@@ -623 +623 @@
-                    if (agentReg.lookup(key) == null)
+                    if (agentReg != null && agentReg.lookup(key) == null)

