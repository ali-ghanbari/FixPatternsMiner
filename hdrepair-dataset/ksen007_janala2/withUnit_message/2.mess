fixed a bug in SelectCommand execute and added all tests from Haruto as JUnit tests.

