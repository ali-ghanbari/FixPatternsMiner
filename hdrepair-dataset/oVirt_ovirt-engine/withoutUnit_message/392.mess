core: fix NPE on detach of user from vm pool

small fix to a big exception.
use vm sent to the method instead of getVm() which is not set.

Change-Id: I347f84ffceaf3d6f6f9f2b5a00cc9283892251d6
Signed-off-by: Omer Frenkel <ofrenkel@redhat.com>

