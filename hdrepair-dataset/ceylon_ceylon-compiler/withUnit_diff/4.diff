diff --git a/src/com/redhat/ceylon/compiler/java/codegen/AbstractTransformer.java b/src/com/redhat/ceylon/compiler/java/codegen/AbstractTransformer.java
index 4ecbf46..7138296 100755
--- a/src/com/redhat/ceylon/compiler/java/codegen/AbstractTransformer.java
+++ b/src/com/redhat/ceylon/compiler/java/codegen/AbstractTransformer.java
@@ -1025 +1025 @@
-                    satRefinedTP.remove(satRefinedTP);
+                    satRefinedTP.remove(refinedSatisfiedType);
diff --git a/test/src/com/redhat/ceylon/tools/test/CompilerToolTest.java b/test/src/com/redhat/ceylon/tools/test/CompilerToolTest.java
index 6c6c885..96f0c77 100644
--- a/test/src/com/redhat/ceylon/tools/test/CompilerToolTest.java
+++ b/test/src/com/redhat/ceylon/tools/test/CompilerToolTest.java
@@ -51,0 +52 @@
+        ret.add("--javac=-cp="+getClassPathAsPath());

