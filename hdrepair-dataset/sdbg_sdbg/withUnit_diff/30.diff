diff --git a/dart/compiler/java/com/google/dart/compiler/parser/DartParser.java b/dart/compiler/java/com/google/dart/compiler/parser/DartParser.java
index 7ff83e9..4058704 100644
--- a/dart/compiler/java/com/google/dart/compiler/parser/DartParser.java
+++ b/dart/compiler/java/com/google/dart/compiler/parser/DartParser.java
@@ -5042,0 +5043,2 @@
+        case CLASS:
+          // exit loop to report error condition
diff --git a/dart/compiler/javatests/com/google/dart/compiler/parser/SyntaxTest.java b/dart/compiler/javatests/com/google/dart/compiler/parser/SyntaxTest.java
index 3a72c7a..3e070aa 100644
--- a/dart/compiler/javatests/com/google/dart/compiler/parser/SyntaxTest.java
+++ b/dart/compiler/javatests/com/google/dart/compiler/parser/SyntaxTest.java
@@ -195,0 +196,21 @@
+   * There was bug that class instead of case in switch caused infinite parsing loop.
+   * <p>
+   * http://code.google.com/p/dart/issues/detail?id=7999
+   */
+  public void test_switch_class_inCase() {
+    DartParserRunner runner = parseSource(Joiner.on("\n").join(
+        "// filler filler filler filler filler filler filler filler filler filler",
+        "void main() {",
+        "  print((e) {",
+        "    switch (e) {",
+        "      case 'Up': cursor.(); break;",
+        "      class LoopClass { var myData; }",
+        "      case 'Down':",
+        "    }",
+        "  }); ",
+        "}",
+        ""));
+    assertTrue(runner.getErrorCount() > 0);
+  }
+
+  /**

