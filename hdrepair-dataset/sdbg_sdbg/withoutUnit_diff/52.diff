diff --git a/dart/editor/tools/plugins/com.google.dart.tools.ui/src/com/google/dart/tools/ui/internal/filesview/InstalledPackagesNode.java b/dart/editor/tools/plugins/com.google.dart.tools.ui/src/com/google/dart/tools/ui/internal/filesview/InstalledPackagesNode.java
index 960ff6e..d0688ba 100644
--- a/dart/editor/tools/plugins/com.google.dart.tools.ui/src/com/google/dart/tools/ui/internal/filesview/InstalledPackagesNode.java
+++ b/dart/editor/tools/plugins/com.google.dart.tools.ui/src/com/google/dart/tools/ui/internal/filesview/InstalledPackagesNode.java
@@ -68 +68 @@
-    if (!localPackages.isEmpty()) {
+    if (localPackages != null && !localPackages.isEmpty()) {

