diff --git a/dart/editor/tools/plugins/com.google.dart.tools.ui/src/com/google/dart/tools/ui/omni/OmniBoxControlContribution.java b/dart/editor/tools/plugins/com.google.dart.tools.ui/src/com/google/dart/tools/ui/omni/OmniBoxControlContribution.java
index 91bb182..4a6ae85 100644
--- a/dart/editor/tools/plugins/com.google.dart.tools.ui/src/com/google/dart/tools/ui/omni/OmniBoxControlContribution.java
+++ b/dart/editor/tools/plugins/com.google.dart.tools.ui/src/com/google/dart/tools/ui/omni/OmniBoxControlContribution.java
@@ -299 +299 @@
-              if (focusControl != control && focusControl != popup.table) {
+              if (focusControl != control && popup != null && focusControl != popup.table) {

