diff --git a/dart/editor/tools/plugins/com.google.dart.tools.ui/src/com/google/dart/tools/ui/actions/RunScriptAction.java b/dart/editor/tools/plugins/com.google.dart.tools.ui/src/com/google/dart/tools/ui/actions/RunScriptAction.java
index cce39cd..ecd7313 100644
--- a/dart/editor/tools/plugins/com.google.dart.tools.ui/src/com/google/dart/tools/ui/actions/RunScriptAction.java
+++ b/dart/editor/tools/plugins/com.google.dart.tools.ui/src/com/google/dart/tools/ui/actions/RunScriptAction.java
@@ -124 +124 @@
-      if (!selection.isEmpty()) {
+      if (selection != null && !selection.isEmpty()) {

