diff --git a/dart/editor/tools/plugins/com.google.dart.engine/src/com/google/dart/engine/internal/context/AnalysisContextImpl.java b/dart/editor/tools/plugins/com.google.dart.engine/src/com/google/dart/engine/internal/context/AnalysisContextImpl.java
index 5db37eb..6271fda 100644
--- a/dart/editor/tools/plugins/com.google.dart.engine/src/com/google/dart/engine/internal/context/AnalysisContextImpl.java
+++ b/dart/editor/tools/plugins/com.google.dart.engine/src/com/google/dart/engine/internal/context/AnalysisContextImpl.java
@@ -1956 +1956 @@
-          if (dartEntry.getState(DartEntry.HINTS) == CacheState.IN_PROCESS) {
+          if (dartEntry.getState(DartEntry.HINTS, librarySource) == CacheState.IN_PROCESS) {

