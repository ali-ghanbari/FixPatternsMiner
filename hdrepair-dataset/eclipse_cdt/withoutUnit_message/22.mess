Bug 317061: fixed exception throwing

