fixed an endpoint bug, component-type (mappers/reducers) should come after runs in path, and improved the test case to cover this

