diff --git a/data-fabric/src/main/java/com/continuuity/data2/transaction/queue/hbase/coprocessor/ConsumerConfigCache.java b/data-fabric/src/main/java/com/continuuity/data2/transaction/queue/hbase/coprocessor/ConsumerConfigCache.java
index 07ff6c4..f376a86 100644
--- a/data-fabric/src/main/java/com/continuuity/data2/transaction/queue/hbase/coprocessor/ConsumerConfigCache.java
+++ b/data-fabric/src/main/java/com/continuuity/data2/transaction/queue/hbase/coprocessor/ConsumerConfigCache.java
@@ -70 +70,2 @@
-  private void updateConfig() {
+  // NOTE: this one is synchronized to support direct invocation from unit-test
+  private synchronized void updateConfig() {

