fixing a missing unlock can can lead to deadlocks

