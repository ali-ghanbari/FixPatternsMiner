diff --git a/opentripplanner-routing/src/main/java/org/opentripplanner/routing/impl/ContractionPathServiceImpl.java b/opentripplanner-routing/src/main/java/org/opentripplanner/routing/impl/ContractionPathServiceImpl.java
index 195abfd..6963a4b 100644
--- a/opentripplanner-routing/src/main/java/org/opentripplanner/routing/impl/ContractionPathServiceImpl.java
+++ b/opentripplanner-routing/src/main/java/org/opentripplanner/routing/impl/ContractionPathServiceImpl.java
@@ -429 +429 @@
-                    if (!outState2.getBackEdgeNarrative().getMode().equals(requestedMode)) {
+                    if (outState2 != null && !outState2.getBackEdgeNarrative().getMode().equals(requestedMode)) {

