diff --git a/opentripplanner-routing/src/main/java/org/opentripplanner/routing/util/ElevationProfileSegment.java b/opentripplanner-routing/src/main/java/org/opentripplanner/routing/util/ElevationProfileSegment.java
index fab4bb6..7bb9052 100644
--- a/opentripplanner-routing/src/main/java/org/opentripplanner/routing/util/ElevationProfileSegment.java
+++ b/opentripplanner-routing/src/main/java/org/opentripplanner/routing/util/ElevationProfileSegment.java
@@ -135 +135 @@
-        if (elevationProfile.size() == 0) {
+        if (elevationProfile == null || elevationProfile.size() == 0) {

