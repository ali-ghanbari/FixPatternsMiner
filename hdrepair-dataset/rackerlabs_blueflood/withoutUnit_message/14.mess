fix RollupTypeCacher.apply() to support synchronous invocation

