diff --git a/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/resource/XtextResourceSetProvider.java b/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/resource/XtextResourceSetProvider.java
index 53d1217..0599f8b 100644
--- a/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/resource/XtextResourceSetProvider.java
+++ b/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/resource/XtextResourceSetProvider.java
@@ -76 +76 @@
-									String p = "archive:file:"+file.getCanonicalPath() + "!/";
+									String p = "archive:" + file.toURI() + "!/";

