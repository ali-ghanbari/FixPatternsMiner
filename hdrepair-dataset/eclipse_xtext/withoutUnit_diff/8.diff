diff --git a/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/Naming.java b/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/Naming.java
index 7a1635e..7edcca8 100644
--- a/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/Naming.java
+++ b/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/Naming.java
@@ -196 +196 @@
-		if (!Strings.isEmpty(ideBasePackage))
+		if (!Strings.isEmpty(ideBasePackage) && (grammarId!=null && grammarId.equals(g.getName())))

