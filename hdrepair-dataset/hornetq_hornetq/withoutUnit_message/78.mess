fixed hanging test, slight improvement to fix

