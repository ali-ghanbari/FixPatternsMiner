diff --git a/src/main/org/codehaus/groovy/ast/CompileUnit.java b/src/main/org/codehaus/groovy/ast/CompileUnit.java
index 0bee7b0..307fb97 100644
--- a/src/main/org/codehaus/groovy/ast/CompileUnit.java
+++ b/src/main/org/codehaus/groovy/ast/CompileUnit.java
@@ -78,0 +79,3 @@
+        // node==null means a compilation error prevented
+        // groovy from building an ast
+        if (node==null) return;

