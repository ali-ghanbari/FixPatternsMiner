Applied John's patch to reproduce the bug and fixed the bug


git-svn-id: http://svn.codehaus.org/groovy/trunk/groovy/groovy-core@603 a5544e8c-8a19-0410-ba12-f9af4593a198

