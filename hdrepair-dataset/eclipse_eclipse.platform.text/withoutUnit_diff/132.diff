diff --git a/org.eclipse.text/src/org/eclipse/jface/text/SequentialRewriteTextStore.java b/org.eclipse.text/src/org/eclipse/jface/text/SequentialRewriteTextStore.java
index 1848f1a..3e3ffab 100644
--- a/org.eclipse.text/src/org/eclipse/jface/text/SequentialRewriteTextStore.java
+++ b/org.eclipse.text/src/org/eclipse/jface/text/SequentialRewriteTextStore.java
@@ -155 +155 @@
-						return replace.text.substring(offset - replace.newOffset, length);
+						return replace.text.substring(offset - replace.newOffset, offset - replace.newOffset + length);

