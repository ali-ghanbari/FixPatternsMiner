diff --git a/org.eclipse.jface.text/src/org/eclipse/jface/text/templates/PositionBasedCompletionProposal.java b/org.eclipse.jface.text/src/org/eclipse/jface/text/templates/PositionBasedCompletionProposal.java
index 98554f0..ca0fbbd 100644
--- a/org.eclipse.jface.text/src/org/eclipse/jface/text/templates/PositionBasedCompletionProposal.java
+++ b/org.eclipse.jface.text/src/org/eclipse/jface/text/templates/PositionBasedCompletionProposal.java
@@ -159 +159 @@
-			String content= document.get(fReplacementPosition.getOffset(), fReplacementPosition.getLength());
+			String content= document.get(fReplacementPosition.getOffset(), offset - fReplacementPosition.getOffset());

