diff --git a/org.eclipse.jface.text/src/org/eclipse/jface/text/DocumentCommand.java b/org.eclipse.jface.text/src/org/eclipse/jface/text/DocumentCommand.java
index a9872d2..b98a004 100644
--- a/org.eclipse.jface.text/src/org/eclipse/jface/text/DocumentCommand.java
+++ b/org.eclipse.jface.text/src/org/eclipse/jface/text/DocumentCommand.java
@@ -279 +279 @@
-		event.doit= (offset == modelRange.getOffset() && length == modelRange.getLength());
+		event.doit= (offset == modelRange.getOffset() && length == modelRange.getLength() && doit);

