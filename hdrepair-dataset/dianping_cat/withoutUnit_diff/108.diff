diff --git a/cat-core/src/main/java/com/dianping/cat/build/StorageComponentConfigurator.java b/cat-core/src/main/java/com/dianping/cat/build/StorageComponentConfigurator.java
index d806d74..558aa11 100644
--- a/cat-core/src/main/java/com/dianping/cat/build/StorageComponentConfigurator.java
+++ b/cat-core/src/main/java/com/dianping/cat/build/StorageComponentConfigurator.java
@@ -26,0 +27 @@
+		      .req(MessagePathBuilder.class) //
diff --git a/cat-core/src/main/resources/META-INF/plexus/components.xml b/cat-core/src/main/resources/META-INF/plexus/components.xml
index 2b12b1f..ab28b3c 100644
--- a/cat-core/src/main/resources/META-INF/plexus/components.xml
+++ b/cat-core/src/main/resources/META-INF/plexus/components.xml
@@ -212,0 +213,3 @@
+					<role>com.dianping.cat.message.spi.MessagePathBuilder</role>
+				</requirement>
+				<requirement>

