diff --git a/runtime/core/lily-runtime/src/main/java/org/lilyproject/runtime/ClassLoaderConfigurer.java b/runtime/core/lily-runtime/src/main/java/org/lilyproject/runtime/ClassLoaderConfigurer.java
index a3bfe01..5e0dcd1 100644
--- a/runtime/core/lily-runtime/src/main/java/org/lilyproject/runtime/ClassLoaderConfigurer.java
+++ b/runtime/core/lily-runtime/src/main/java/org/lilyproject/runtime/ClassLoaderConfigurer.java
@@ -419 +419 @@
-        Pattern pattern = Pattern.compile("(\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))?(?:-(.*))?");
+        Pattern pattern = Pattern.compile("(\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))?(?:(-|_)(.*))?");

