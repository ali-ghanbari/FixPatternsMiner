diff --git a/core/src/main/java/org/apache/ldap/server/jndi/AbstractContextFactory.java b/core/src/main/java/org/apache/ldap/server/jndi/AbstractContextFactory.java
index 038c6bb..de65a10 100644
--- a/core/src/main/java/org/apache/ldap/server/jndi/AbstractContextFactory.java
+++ b/core/src/main/java/org/apache/ldap/server/jndi/AbstractContextFactory.java
@@ -89 +89 @@
-        else
+        else if( provider == null )

