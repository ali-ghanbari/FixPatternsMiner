Use minPrefWidth instead of viewsize.x.

This is to fix a bug I introduced in one of my last CLs, which is tested
under hw accerlation, and the problem was not there.

issue:3161799
Change-Id: Ic7e7c186d1830c3cbd9359af0e283afbbdfbbac1

