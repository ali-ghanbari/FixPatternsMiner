diff --git a/capsule/src/main/java/Capsule.java b/capsule/src/main/java/Capsule.java
index d81cfc8..09ca7e5 100644
--- a/capsule/src/main/java/Capsule.java
+++ b/capsule/src/main/java/Capsule.java
@@ -799 +799 @@
-                if (name.equals(cls.getClass().getName()))
+                if (name.equals(cls.getName()))
diff --git a/capsule/src/test/java/CapsuleTest.java b/capsule/src/test/java/CapsuleTest.java
index c463a8c..223a55c 100644
--- a/capsule/src/test/java/CapsuleTest.java
+++ b/capsule/src/test/java/CapsuleTest.java
@@ -944,0 +945,2 @@
+        assertTrue(capsule.hasCaplet("MyCapsule"));
+        

