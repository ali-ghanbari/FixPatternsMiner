diff --git a/src/main/org/apache/tools/ant/DirectoryScanner.java b/src/main/org/apache/tools/ant/DirectoryScanner.java
index 22d7887..5aff52b 100644
--- a/src/main/org/apache/tools/ant/DirectoryScanner.java
+++ b/src/main/org/apache/tools/ant/DirectoryScanner.java
@@ -1251 +1251 @@
-            if (children == null || file.isFile()) {
+            if (children == null || (children.length == 0 && file.isFile())) {

